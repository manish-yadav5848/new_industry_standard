drop table NEWR_REPOSB.PARTICIPANT_CORE_BALANCE;
drop table NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_delta;
drop table NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_monthly;
drop table NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_monthly_delta;
drop table NEWR_REPOSB.plan;
drop table NEWR_REPOSB.plan_delta;
drop table NEWR_REPOSB.txn;
drop table NEWR_REPOSB.txn_delta;
drop table NEWR_REPOSB.PARTICIPANT;
drop table NEWR_REPOSB.PARTICIPANT_DELTA;

---txn

CREATE TABLE NEWR_REPOSB.TXN
( 
  CLIENT_ID VARCHAR2(10 BYTE)  
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, TRADE_DATE DATE NOT NULL 
, RUN_DATE DATE NOT NULL 
, RUN_TIME VARCHAR2(20 BYTE) NOT NULL
, BASE_TRANSACTION_CODE VARCHAR2(20 BYTE) NOT NULL 
, ACTIVITY_TYPE NUMBER(32, 0) NOT NULL 
, REV_CODE VARCHAR2(20 BYTE) NOT NULL  
, FUND_IV VARCHAR2(20 BYTE) 
, FUND_NUMBER VARCHAR2(15 BYTE) 
, FUND_SRC VARCHAR2(20 BYTE) 
, MONEY_SOURCE VARCHAR2(10 BYTE) 
, CASH NUMBER(13, 2) 
, UNINVESTED_CASH NUMBER(13, 2) 
, SHARES NUMBER(13, 4) 
, SHARE_PRICE NUMBER(13, 6) 
, SEQUENCE_NUMBER VARCHAR2(50 BYTE) NOT NULL 
, POSTING_PROCESS_COUNTER VARCHAR2(20 BYTE) NOT NULL 
, USAGE_CODE_1 VARCHAR2(20 BYTE) 
, USAGE_CODE_2 VARCHAR2(20 BYTE) 
, USAGE_CODE_3 VARCHAR2(20 BYTE) 
, USAGE_CODE_4 VARCHAR2(20 BYTE) 
, USAGE_CODE_5 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_1 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_2 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_3 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_4 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_5 VARCHAR2(20 BYTE) 
, PREVIOUS_ACTIVITY_DATE DATE 
, CATEGORY VARCHAR2(100 BYTE) 
, OTHER_CASH NUMBER(13, 2)
, ACTIVITY VARCHAR2(30 BYTE) 
, NET_CURRENCY_VALUE NUMBER(13, 2) 
, ALT_POSTING_PROCESS_COUNTER NUMBER(38, 0) 
, ASSOCIATED_ACTIVITY NUMBER(38, 0)  
, PAY_PERIOD_END_DATE DATE 
, REC_CODE VARCHAR2(20 BYTE) 
, RECORD_TYPE VARCHAR2(20 BYTE) 
, RESERVED_CASH_SHARES_IND NUMBER(15, 2)
, REVERSAL_REASON VARCHAR2(20 BYTE) 
, REVERSE_RUN_DATE DATE 
, SHARE_CLASS VARCHAR2(20 BYTE)
, SHARE_COST NUMBER(13, 2)
, TRAN_SEQ NUMBER(32, 0) 
, VOUCHER_NUMBER NUMBER(38, 0) 
, REC_TYPE VARCHAR2(6 BYTE) 
, ETIN_NUM VARCHAR2(9 BYTE) 
, FILEID_EXT VARCHAR2(20 BYTE) 
, FILEID_NAME VARCHAR2(20 BYTE) 
, FILEID_PTR_INDIC VARCHAR2(20 BYTE) 
, MARGIN_CODE VARCHAR2(10 BYTE)
, PART_EXT VARCHAR2(20 BYTE) 
, PART_EXT1 VARCHAR2(20 BYTE) 
, PART_NUM_X VARCHAR2(9 BYTE) 
, PART_NUM NUMBER(32, 0) 
, PART_SUB_PLAN VARCHAR2(6 BYTE) 
, PEND_STAT VARCHAR2(20 BYTE)
, PLAN_NUM VARCHAR2(6 BYTE)
, SEPARATE_ACCT VARCHAR2(20 BYTE) 
, COMPANY_CODE VARCHAR2(20 BYTE)  
, CURRENCY_CODE VARCHAR2(5 BYTE)
, CURRENCY_VALUE NUMBER(13, 2)
, SUB_ACTIVITY_CODE NUMBER(38, 0) 
, SOURCE_CYCLE_DATE DATE 
, TRADE_TYPE VARCHAR2(10 BYTE)
, SOURCE_PROCESSING_DATE DATE 
, TRAN_CODE VARCHAR2(20 BYTE) 
, SOURCE_SYSTEM VARCHAR2(40 BYTE) 
, USE_PLAN_YEAR_FLAG VARCHAR2(10 BYTE) 
, XR_RATE NUMBER(11, 6)  
, XR_TYPE VARCHAR2(20 BYTE) 
, PLAN_SEQUENCE VARCHAR2(6 BYTE)
, ACTIVITY_CODE_DESCRIPTION VARCHAR2(255)
, SEQ_OPER_CODE VARCHAR2(20 BYTE) 
, TRANSFORM_HASH_KEY NUMBER(38, 0) ,
CONSTRAINT PK_TXN PRIMARY KEY 
(
  ACTIVITY_TYPE 
, BASE_TRANSACTION_CODE 
, POSTING_PROCESS_COUNTER 
, REV_CODE 
, RUN_DATE 
, RUN_TIME 
, SEQUENCE_NUMBER 
, TRADE_DATE 
, PARTICIPANT_ID 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;
--participant

CREATE TABLE NEWR_REPOSB.PARTICIPANT
( 
 CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, DIV_SUB_ID VARCHAR2(25 BYTE) 
, RETIREMENT_ACCOUNT_ID VARCHAR2(27 BYTE) NOT NULL 
, CUST_ODS_AGREEMENT_ID VARCHAR2(36 BYTE) 
, FIRST_NAME VARCHAR2(255 BYTE) 
, MIDDLE_NAME VARCHAR2(255 BYTE)
, LAST_NAME VARCHAR2(255 BYTE) 
, NAME_SUFFIX VARCHAR2(4 BYTE) 
, NAME_FORMATTED VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_2 VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_3 VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_4 VARCHAR2(255 BYTE)
, PART_ADDRESS_CITY VARCHAR2(255 BYTE)  
, PART_ADDRESS_STATE VARCHAR2(100 BYTE) 
, PART_ADDRESS_ZIP_CODE VARCHAR2(20 BYTE)
, BIRTH_DATE DATE
, AGE NUMBER(38, 0) 
, ATTAINED_AGE NUMBER(7, 2) 
, GENDER_CODE VARCHAR2(10 BYTE)
, GENDER_DESC VARCHAR2(55 BYTE) 
, EMAIL_ADDRESS VARCHAR2(255 BYTE) 
, MARITAL_STATUS_CODE VARCHAR2(5 BYTE)
, MARITAL_STATUS_CODE_DESC VARCHAR2(40 BYTE) 
, PART_PRODUCT_ID VARCHAR2(6 BYTE) 
, PRODUCT_CODE VARCHAR2(2 BYTE)
, PRODUCT_NAME VARCHAR2(20 BYTE) 
, PLAN_CODE VARCHAR2(6 BYTE) 
, PARTICIPANT_STATUS_CODE VARCHAR2(20 BYTE) 
, PART_STATUS_DESC VARCHAR2(10 BYTE) 
, PART_ACCT_STATUS_DATE DATE  
, CLIENT_STATUS VARCHAR2(10 BYTE)
, ACCOUNT_INCEPTION_DATE DATE 
, PLAN_ENTRY_DATE DATE 
, REINSTATEMENT_NOTIFY_DATE DATE 
, QDIA_DATE DATE 
, ENROLLMENT_DATE DATE 
, EMPLOYMENT_DATE DATE 
, ELIGIBLE_FOR_DISTRIBUTION_DATE DATE 
, ELIGIBILITY_REMINDER_DATE DATE 
, ELIGIBILITY_DATE DATE 
, ELIGIBILITY_COMPLETION_DATE DATE 
, ELIGIBILITY_5500_DATE DATE 
, DOLLAR5000_REACHED_DATE DATE 
, DEMOGRAPHIC_EFFECTIVE_DATE DATE 
, AUTO_ENROLLMENT_DATE DATE 
, ALTERNATE_VESTING_DATE DATE 
, TERMINATION_NOTIFICATION_DATE DATE 
, TERMINATION_DATE DATE 
, SUSPENSION_DATE DATE 
, LEAVE_OF_ABSENSE_END_DATE DATE 
, DEFER_DATE DATE
, DEATH_DATE DATE 
, SPOUSE_CONSENT_EXPIRATION_DATE DATE 
, ROTH_FIRST_CONTRIBUTION_DATE DATE  
, FE_START_DATE DATE 
, FE_END_DATE DATE
, NEXT_REBALANCE_DATE DATE 
, MVA_CHARGED_TO_DATE DATE 
, MIN_DISTRIB_ELIGIBILITY_DATE DATE 
, MIN_DISTRIB_BEGIN_DATE_OPTION VARCHAR2(1 BYTE) 
, LAST_TRANSFER_DATE DATE 
, LAST_PLAN_TO_PLAN_TRANSF_DATE DATE 
, LAST_LOAN_DEFAULT_DATE DATE 
, LAST_HARDSHIP_WITHDRAWAL_DATE DATE 
, LAST_CONTRIBUTION_DATE DATE 
, LAST_CONTRIB_RATE_CHANGE_DATE DATE 
, LAST_ALLOC_PCT_CHANGE_DATE DATE 
, INIT_ROLLOVER_DIST_DATE DATE 
, INIT_PARTIAL_TERM_DIST_DATE DATE 
, FREE_LOOK_END_DATE DATE 
, FIRST_DEFAULT_CONTRIB_DATE DATE 
, FIRST_CONTRIBUTION_DATE DATE 
, EXCESS_TRADER_SUSPEND_END_DATE DATE 
, EXCESS_TRADER_SUSP_START_DATE DATE  
, HIGHEST_OUTSTAND_LOAN_BALANCE NUMBER(11, 2) 
, SPOUSE_BIRTH_DATE DATE 
, SPOUSE_NAME VARCHAR2(255 BYTE) 
, YTD_CONTRIBUTIONS NUMBER(15, 2) 
, AUTO_ENROLLMENT_INDICATOR VARCHAR2(10 BYTE) 
, TOTAL_NUMBER_OF_FUNDS NUMBER(38, 0) 
, TERMINATION_REASON_CODE VARCHAR2(2 BYTE) 
, TERM_STAT_REASON_CODE VARCHAR2(2 BYTE) 
, SUSPENSION_MONTHS_FORF_REALLOC NUMBER(38, 0)
, SUSPENSION_MONTHS_ER_CONTRIB NUMBER(38, 0) 
, SUSPENSION_MONTHS_EE_CONTRIB NUMBER(38, 0) 
, PART_SSN VARCHAR2(17 BYTE) 
, PART_SSN_LAST_4 VARCHAR2(4 BYTE) 
, QDRO_FLAG VARCHAR2(1 BYTE) 
, QDRO_STATUS VARCHAR2(1 BYTE) 
, QDRO_BENEFICARY_SSN NUMBER(11, 2) 
, QDIA_INDICATOR VARCHAR2(1 BYTE)
, DEFAULT_ENROLLED_QDIA VARCHAR2(1 BYTE) 
, ROTH_UNRESTRICTED_CONTRIB NUMBER(11, 2) 
, ROTH_SMA_ACCOUNT_NUMBER VARCHAR2(254 BYTE) 
, ROTH_IPRR_CONTRIBUTIONS NUMBER(11, 2) 
, ROTH_YEAR VARCHAR2(4 BYTE) 
, ROTH_DEFERRAL_CONTRIBUTIONS NUMBER(11, 2) 
, ROLL_CONTRIBUTION_PRIOR_YEAR NUMBER(11, 2) 
, ROLL_CONTRIBUTION_CURRENT_YEAR NUMBER(11, 2) 
, ROLL_ACCOUNT_TYPE VARCHAR2(1 BYTE)
, PRE1987_EE_AFTERTAX_CONTRIB NUMBER(11, 2) 
, PRE_TAX_401K_CONTRIB_PRIOR NUMBER(11, 2) 
, PRE_TAX_401K_CONTRIB_CURRENT NUMBER(11, 2)
, POST1986_EE_AFTERTAX_CONTRIB NUMBER(11, 2) 
, POST88_SURENDER VARCHAR2(15 BYTE) 
, PLAN_YEAR_COMPENSATION_PRIOR NUMBER(15, 2) 
, PLAN_YEAR_COMPENSATION_CURRENT NUMBER(15, 2) 
, NONQUAL_IND VARCHAR2(10 BYTE) 
, EE_CONTRIB_TAXED_BY_STATE NUMBER(38, 0)
, EE_CONTRIB_401K_STATE_TAX_FLAG VARCHAR2(1 BYTE) 
, EE_CONTRIB_401K_PRIOR_YEAR NUMBER(11, 2) 
, EE_CONTRIB_401K_CURRENT_YEAR NUMBER(11, 2) 
, EE_CONTRIB_YTD NUMBER(7, 2) 
, ee_contrib_prior_tax_year NUMBER(7, 2) 
, DIVIDEND_PASS_THRU_INDICATOR NUMBER(4, 1) 
, DIVIDEND_PASS_THRU_ELECTION NUMBER(5, 4) 
, DIVIDEND_PASS_THRU_ELECTION_PCT NUMBER(4, 1)  
, CONTRIBUTION_415_PRIOR NUMBER(11, 2) 
, CONTRIBUTION_415_CURRENT NUMBER(11, 2) 
, EMPLOYEE_ID VARCHAR2(13 BYTE) 
, EMPLOYEE_NUMBER VARCHAR2(40 BYTE) 
, EMPLOYEE_NUMBER_2 VARCHAR2(40 BYTE) 
, EMPLOYMENT_STATUS_REASON VARCHAR2(1 BYTE) 
, KEY_EMPLOYEE_INDICATOR VARCHAR2(1 BYTE)
, RELATED_PARTICIPANT_ID VARCHAR2(25 BYTE) 
, SMA_FUND_BALANCE NUMBER(15, 2) 
, SDBO_HOLD_HARMLESS VARCHAR2(1 BYTE) 
, FINANCIAL_ENGINS_PROSPECT_CODE VARCHAR2(1 BYTE) 
, WITHDRAWAL_RESTRICTION_REASON VARCHAR2(1 BYTE) 
, WITHDRAWAL_RESTRICTION VARCHAR2(1 BYTE) 
, VERY_IMPORTANT_PERSON_INDICAT VARCHAR2(254 BYTE) 
, TRADE_ACTIVITY VARCHAR2(2 BYTE) 
, TAX_TREATY_COUNTRY_CODE VARCHAR2(3 BYTE) 
, SOURCE_ADJ_VEST_PERCENT NUMBER(4, 3) 
, REDUCTION_401K_OPTION VARCHAR2(254 BYTE) 
, PUERTO_RICO_RESIDENT VARCHAR2(3 BYTE) 
, PRIOR_HCE_INDICATOR VARCHAR2(1 BYTE) 
, PLAN_REFERENCE_KEY VARCHAR2(8 BYTE) 
, PERIODS_OF_CONTINUOUS_SERVICE NUMBER(38, 0) 
, PAYROLL_FREQUENCY VARCHAR2(1 BYTE) 
, PAY_GROUP_ID VARCHAR2(5 BYTE) 
, PERSON_FLAG VARCHAR2(1 BYTE) 
, INSTALLMENT_STATUS VARCHAR2(10 BYTE) 
, HCE_STATUS VARCHAR2(10 BYTE) 
, CATCHUP_ELIGIBLE_FLAG VARCHAR2(1 BYTE) 
, ACCOUNT_TYPE_CODE_DESC VARCHAR2(40 BYTE) 
, ACCOUNT_TYPE_CODE VARCHAR2(30 BYTE) 
, ACCOUNT_TYPE VARCHAR2(55 BYTE)
, STATUS_16B VARCHAR2(10 BYTE) 
, YTD_HOURS_WORKED VARCHAR2(10 BYTE) 
, PHONE VARCHAR2(32 BYTE) 
, PART_PERSON_FLAG VARCHAR2(1 BYTE)
, PAYROLL_LOCATION VARCHAR2(5 BYTE)  
, LOCATION_CODE VARCHAR2(4 BYTE)  
, LINE_OF_BUSINESS VARCHAR2(3 BYTE) 
, AGG_SYS_KEY VARCHAR2(24 BYTE)  
, WITHHOLDING_PCT_OVERRIDE NUMBER(5, 4) 
, WITHHOLDING_AMOUNT_OVERRIDE NUMBER(11, 2) 
, WITHHOLDING_OVERRIDE VARCHAR2(1 BYTE)
, ORACLE_PLAN_RULE_ID VARCHAR2(80 BYTE) 
, OLD_ADVICE_ACCOUNT VARCHAR2(80 BYTE) 
, NET_401K_ELECTIVE_DEFERRALS NUMBER(11, 2) 
, MIN_DISTRIB_SUPPRESS_OPTION VARCHAR2(1 BYTE) 
, MIN_DISTRIB_CALCULATION_METHOD VARCHAR2(1 BYTE)
, MATCH_PAYROLL_GENERIC_GROUPING VARCHAR2(5 BYTE) 
, MANAGED_ACCT_SALARY_AT_ENROLL NUMBER(11, 2) 
, LIFETIME_DSC_AMOUNT NUMBER(11, 2)
, LAST_CONTRIBUTION_AMT_GROSS NUMBER(17, 2)
, LANGUAGE_PRINT_PREFERENCE VARCHAR2(3 BYTE) 
, INSIDE_TRADING_16B_RESTRICT_ID VARCHAR2(1 BYTE)  
, ILIP_EQUITY_WASH_RESIDUAL_AMT NUMBER(11, 2) 
, HUMAN_RESOURCE_STATUS_CODE VARCHAR2(10 BYTE) 
, HOURS_OF_SERVICE NUMBER(38, 0) 
, HIGHLY_COMPENSATED_EE_FLAG VARCHAR2(1 BYTE) 
, HIGH_LOAN_BALANCE_AMOUNT NUMBER(11, 2) 
, HCE_INDICATOR VARCHAR2(1 BYTE) 
, GROUP_PAYMENT_STATUS_FLAG VARCHAR2(1 BYTE) 
, GROUP_IV_ID VARCHAR2(2 BYTE) 
, FOREIGN_COUNTRY_CODE VARCHAR2(3 BYTE)
, FLAG_16B VARCHAR2(1 BYTE) 
, FEDERAL_W4P_FORM_STATUS VARCHAR2(1 BYTE)
, EXCESS_TRADER_SUSPEND_FLAG VARCHAR2(1 BYTE) 
, ESOP_DIVERSIFICATION_SHARES NUMBER(11, 2) 
, ER_AFTER_TAX_AMOUNT NUMBER(11, 2) 
, EQUITY_WASH_AMOUNT NUMBER(11, 2) 
, ELIGIBLE_FOR_BONUS VARCHAR2(1 BYTE) 
, ELIGIBILITY_EXCLUSION VARCHAR2(1 BYTE) 
, ELIG_ROLLOVER_DISTRIBUTIONS NUMBER(11, 2) 
, EGTRRA_TARGET_MESSAGE_ID NUMBER(38, 0) 
, DEFERRAL_GROUPING_ID VARCHAR2(4 BYTE) 
, DEFAULT_INVESTMENT_FLAG VARCHAR2(20 BYTE)  
, DEFAULT_DEFERRAL_FLAG VARCHAR2(20 BYTE)
, DEATH_BENEFIT_PERCENTAGE NUMBER(38, 0)
, STATE_CONTRIB_TAXED_BY_FLAG VARCHAR2(1 BYTE) 
, CLIENT_PASS_THRU_IDENTIFIER VARCHAR2(10 BYTE) 
, BROKERAGE_ACCOUNT_NUMBER VARCHAR2(20 BYTE)
, BENEFICIARY_CODE VARCHAR2(1 BYTE) 
, AUTOMATIC_INCREASE_FLAG VARCHAR2(1 BYTE) 
, ANNUAL_SALARY NUMBER(11, 2) 
, ANNUAL_DIST_AMOUNT NUMBER(11, 2) 
, ALTERNATE_TAXABILITY_STATE VARCHAR2(2 BYTE) 
, ALTERNATE_ACCOUNT_NUMBER VARCHAR2(100 BYTE) 
, ADVICE_ACCOUNT_REBAL_FREQ VARCHAR2(1 BYTE) 
, ADVICE_ACCOUNT_INDICATOR VARCHAR2(10 BYTE) 
, LAST_CRC_RATE_CHG_DT DATE 
, SOURCE_CYCLE_DATE DATE 
, PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, PART_TYPE VARCHAR2(11 BYTE) 
, COUNTRY_NAME VARCHAR2(100 BYTE)
, ADVICE_TARGET_MESSAGE_3 NUMBER(38, 0) 
, ADVICE_TARGET_MESSAGE_2 NUMBER(38, 0) 
, ADVICE_TARGET_MESSAGE_1 NUMBER(38, 0) 
, ADDRESS_VALIDITY VARCHAR2(1 BYTE) ,
CONSTRAINT PK_PARTICIPANT PRIMARY KEY 
(
  RETIREMENT_ACCOUNT_ID 
, CLIENT_ID 
, PARTICIPANT_ID 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;



CREATE TABLE NEWR_REPOSB.PARTICIPANT_DELTA
( 
 CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, DIV_SUB_ID VARCHAR2(25 BYTE) 
, RETIREMENT_ACCOUNT_ID VARCHAR2(27 BYTE) NOT NULL 
, CUST_ODS_AGREEMENT_ID VARCHAR2(36 BYTE) 
, FIRST_NAME VARCHAR2(255 BYTE) 
, MIDDLE_NAME VARCHAR2(255 BYTE)
, LAST_NAME VARCHAR2(255 BYTE) 
, NAME_SUFFIX VARCHAR2(4 BYTE) 
, NAME_FORMATTED VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_2 VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_3 VARCHAR2(255 BYTE) 
, PART_ADDRESS_LINE_4 VARCHAR2(255 BYTE)
, PART_ADDRESS_CITY VARCHAR2(255 BYTE)  
, PART_ADDRESS_STATE VARCHAR2(100 BYTE) 
, PART_ADDRESS_ZIP_CODE VARCHAR2(20 BYTE)
, BIRTH_DATE DATE
, AGE NUMBER(38, 0) 
, ATTAINED_AGE NUMBER(7, 2) 
, GENDER_CODE VARCHAR2(10 BYTE)
, GENDER_DESC VARCHAR2(55 BYTE) 
, EMAIL_ADDRESS VARCHAR2(255 BYTE) 
, MARITAL_STATUS_CODE VARCHAR2(5 BYTE)
, MARITAL_STATUS_CODE_DESC VARCHAR2(40 BYTE) 
, PART_PRODUCT_ID VARCHAR2(6 BYTE) 
, PRODUCT_CODE VARCHAR2(2 BYTE)
, PRODUCT_NAME VARCHAR2(20 BYTE) 
, PLAN_CODE VARCHAR2(6 BYTE) 
, PARTICIPANT_STATUS_CODE VARCHAR2(20 BYTE) 
, PART_STATUS_DESC VARCHAR2(10 BYTE) 
, PART_ACCT_STATUS_DATE DATE  
, CLIENT_STATUS VARCHAR2(10 BYTE)
, ACCOUNT_INCEPTION_DATE DATE 
, PLAN_ENTRY_DATE DATE 
, REINSTATEMENT_NOTIFY_DATE DATE 
, QDIA_DATE DATE 
, ENROLLMENT_DATE DATE 
, EMPLOYMENT_DATE DATE 
, ELIGIBLE_FOR_DISTRIBUTION_DATE DATE 
, ELIGIBILITY_REMINDER_DATE DATE 
, ELIGIBILITY_DATE DATE 
, ELIGIBILITY_COMPLETION_DATE DATE 
, ELIGIBILITY_5500_DATE DATE 
, DOLLAR5000_REACHED_DATE DATE 
, DEMOGRAPHIC_EFFECTIVE_DATE DATE 
, AUTO_ENROLLMENT_DATE DATE 
, ALTERNATE_VESTING_DATE DATE 
, TERMINATION_NOTIFICATION_DATE DATE 
, TERMINATION_DATE DATE 
, SUSPENSION_DATE DATE 
, LEAVE_OF_ABSENSE_END_DATE DATE 
, DEFER_DATE DATE
, DEATH_DATE DATE 
, SPOUSE_CONSENT_EXPIRATION_DATE DATE 
, ROTH_FIRST_CONTRIBUTION_DATE DATE  
, FE_START_DATE DATE 
, FE_END_DATE DATE
, NEXT_REBALANCE_DATE DATE 
, MVA_CHARGED_TO_DATE DATE 
, MIN_DISTRIB_ELIGIBILITY_DATE DATE 
, MIN_DISTRIB_BEGIN_DATE_OPTION VARCHAR2(1 BYTE) 
, LAST_TRANSFER_DATE DATE 
, LAST_PLAN_TO_PLAN_TRANSF_DATE DATE 
, LAST_LOAN_DEFAULT_DATE DATE 
, LAST_HARDSHIP_WITHDRAWAL_DATE DATE 
, LAST_CONTRIBUTION_DATE DATE 
, LAST_CONTRIB_RATE_CHANGE_DATE DATE 
, LAST_ALLOC_PCT_CHANGE_DATE DATE 
, INIT_ROLLOVER_DIST_DATE DATE 
, INIT_PARTIAL_TERM_DIST_DATE DATE 
, FREE_LOOK_END_DATE DATE 
, FIRST_DEFAULT_CONTRIB_DATE DATE 
, FIRST_CONTRIBUTION_DATE DATE 
, EXCESS_TRADER_SUSPEND_END_DATE DATE 
, EXCESS_TRADER_SUSP_START_DATE DATE  
, HIGHEST_OUTSTAND_LOAN_BALANCE NUMBER(11, 2) 
, SPOUSE_BIRTH_DATE DATE 
, SPOUSE_NAME VARCHAR2(255 BYTE) 
, YTD_CONTRIBUTIONS NUMBER(15, 2) 
, AUTO_ENROLLMENT_INDICATOR VARCHAR2(10 BYTE) 
, TOTAL_NUMBER_OF_FUNDS NUMBER(38, 0) 
, TERMINATION_REASON_CODE VARCHAR2(2 BYTE) 
, TERM_STAT_REASON_CODE VARCHAR2(2 BYTE) 
, SUSPENSION_MONTHS_FORF_REALLOC NUMBER(38, 0)
, SUSPENSION_MONTHS_ER_CONTRIB NUMBER(38, 0) 
, SUSPENSION_MONTHS_EE_CONTRIB NUMBER(38, 0) 
, PART_SSN VARCHAR2(17 BYTE) 
, PART_SSN_LAST_4 VARCHAR2(4 BYTE) 
, QDRO_FLAG VARCHAR2(1 BYTE) 
, QDRO_STATUS VARCHAR2(1 BYTE) 
, QDRO_BENEFICARY_SSN NUMBER(11, 2) 
, QDIA_INDICATOR VARCHAR2(1 BYTE)
, DEFAULT_ENROLLED_QDIA VARCHAR2(1 BYTE) 
, ROTH_UNRESTRICTED_CONTRIB NUMBER(11, 2) 
, ROTH_SMA_ACCOUNT_NUMBER VARCHAR2(254 BYTE) 
, ROTH_IPRR_CONTRIBUTIONS NUMBER(11, 2) 
, ROTH_YEAR VARCHAR2(4 BYTE) 
, ROTH_DEFERRAL_CONTRIBUTIONS NUMBER(11, 2) 
, ROLL_CONTRIBUTION_PRIOR_YEAR NUMBER(11, 2) 
, ROLL_CONTRIBUTION_CURRENT_YEAR NUMBER(11, 2) 
, ROLL_ACCOUNT_TYPE VARCHAR2(1 BYTE)
, PRE1987_EE_AFTERTAX_CONTRIB NUMBER(11, 2) 
, PRE_TAX_401K_CONTRIB_PRIOR NUMBER(11, 2) 
, PRE_TAX_401K_CONTRIB_CURRENT NUMBER(11, 2)
, POST1986_EE_AFTERTAX_CONTRIB NUMBER(11, 2) 
, POST88_SURENDER VARCHAR2(15 BYTE) 
, PLAN_YEAR_COMPENSATION_PRIOR NUMBER(15, 2) 
, PLAN_YEAR_COMPENSATION_CURRENT NUMBER(15, 2) 
, NONQUAL_IND VARCHAR2(10 BYTE) 
, EE_CONTRIB_TAXED_BY_STATE NUMBER(38, 0)
, EE_CONTRIB_401K_STATE_TAX_FLAG VARCHAR2(1 BYTE) 
, EE_CONTRIB_401K_PRIOR_YEAR NUMBER(11, 2) 
, EE_CONTRIB_401K_CURRENT_YEAR NUMBER(11, 2) 
, EE_CONTRIB_YTD NUMBER(7, 2) 
, ee_contrib_prior_tax_year NUMBER(7, 2) 
, DIVIDEND_PASS_THRU_INDICATOR NUMBER(4, 1) 
, DIVIDEND_PASS_THRU_ELECTION NUMBER(5, 4) 
, DIVIDEND_PASS_THRU_ELECTION_PCT NUMBER(4, 1)  
, CONTRIBUTION_415_PRIOR NUMBER(11, 2) 
, CONTRIBUTION_415_CURRENT NUMBER(11, 2) 
, EMPLOYEE_ID VARCHAR2(13 BYTE) 
, EMPLOYEE_NUMBER VARCHAR2(40 BYTE) 
, EMPLOYEE_NUMBER_2 VARCHAR2(40 BYTE) 
, EMPLOYMENT_STATUS_REASON VARCHAR2(1 BYTE) 
, KEY_EMPLOYEE_INDICATOR VARCHAR2(1 BYTE)
, RELATED_PARTICIPANT_ID VARCHAR2(25 BYTE) 
, SMA_FUND_BALANCE NUMBER(15, 2) 
, SDBO_HOLD_HARMLESS VARCHAR2(1 BYTE) 
, FINANCIAL_ENGINS_PROSPECT_CODE VARCHAR2(1 BYTE) 
, WITHDRAWAL_RESTRICTION_REASON VARCHAR2(1 BYTE) 
, WITHDRAWAL_RESTRICTION VARCHAR2(1 BYTE) 
, VERY_IMPORTANT_PERSON_INDICAT VARCHAR2(254 BYTE) 
, TRADE_ACTIVITY VARCHAR2(2 BYTE) 
, TAX_TREATY_COUNTRY_CODE VARCHAR2(3 BYTE) 
, SOURCE_ADJ_VEST_PERCENT NUMBER(4, 3) 
, REDUCTION_401K_OPTION VARCHAR2(254 BYTE) 
, PUERTO_RICO_RESIDENT VARCHAR2(3 BYTE) 
, PRIOR_HCE_INDICATOR VARCHAR2(1 BYTE) 
, PLAN_REFERENCE_KEY VARCHAR2(8 BYTE) 
, PERIODS_OF_CONTINUOUS_SERVICE NUMBER(38, 0) 
, PAYROLL_FREQUENCY VARCHAR2(1 BYTE) 
, PAY_GROUP_ID VARCHAR2(5 BYTE) 
, PERSON_FLAG VARCHAR2(1 BYTE) 
, INSTALLMENT_STATUS VARCHAR2(10 BYTE) 
, HCE_STATUS VARCHAR2(10 BYTE) 
, CATCHUP_ELIGIBLE_FLAG VARCHAR2(1 BYTE) 
, ACCOUNT_TYPE_CODE_DESC VARCHAR2(40 BYTE) 
, ACCOUNT_TYPE_CODE VARCHAR2(30 BYTE) 
, ACCOUNT_TYPE VARCHAR2(55 BYTE)
, STATUS_16B VARCHAR2(10 BYTE) 
, YTD_HOURS_WORKED VARCHAR2(10 BYTE) 
, PHONE VARCHAR2(32 BYTE) 
, PART_PERSON_FLAG VARCHAR2(1 BYTE)
, PAYROLL_LOCATION VARCHAR2(5 BYTE)  
, LOCATION_CODE VARCHAR2(4 BYTE)  
, LINE_OF_BUSINESS VARCHAR2(3 BYTE) 
, AGG_SYS_KEY VARCHAR2(24 BYTE)  
, WITHHOLDING_PCT_OVERRIDE NUMBER(5, 4) 
, WITHHOLDING_AMOUNT_OVERRIDE NUMBER(11, 2) 
, WITHHOLDING_OVERRIDE VARCHAR2(1 BYTE)
, ORACLE_PLAN_RULE_ID VARCHAR2(80 BYTE) 
, OLD_ADVICE_ACCOUNT VARCHAR2(80 BYTE) 
, NET_401K_ELECTIVE_DEFERRALS NUMBER(11, 2) 
, MIN_DISTRIB_SUPPRESS_OPTION VARCHAR2(1 BYTE) 
, MIN_DISTRIB_CALCULATION_METHOD VARCHAR2(1 BYTE)
, MATCH_PAYROLL_GENERIC_GROUPING VARCHAR2(5 BYTE) 
, MANAGED_ACCT_SALARY_AT_ENROLL NUMBER(11, 2) 
, LIFETIME_DSC_AMOUNT NUMBER(11, 2)
, LAST_CONTRIBUTION_AMT_GROSS NUMBER(17, 2)
, LANGUAGE_PRINT_PREFERENCE VARCHAR2(3 BYTE) 
, INSIDE_TRADING_16B_RESTRICT_ID VARCHAR2(1 BYTE)  
, ILIP_EQUITY_WASH_RESIDUAL_AMT NUMBER(11, 2) 
, HUMAN_RESOURCE_STATUS_CODE VARCHAR2(10 BYTE) 
, HOURS_OF_SERVICE NUMBER(38, 0) 
, HIGHLY_COMPENSATED_EE_FLAG VARCHAR2(1 BYTE) 
, HIGH_LOAN_BALANCE_AMOUNT NUMBER(11, 2) 
, HCE_INDICATOR VARCHAR2(1 BYTE) 
, GROUP_PAYMENT_STATUS_FLAG VARCHAR2(1 BYTE) 
, GROUP_IV_ID VARCHAR2(2 BYTE) 
, FOREIGN_COUNTRY_CODE VARCHAR2(3 BYTE)
, FLAG_16B VARCHAR2(1 BYTE) 
, FEDERAL_W4P_FORM_STATUS VARCHAR2(1 BYTE)
, EXCESS_TRADER_SUSPEND_FLAG VARCHAR2(1 BYTE) 
, ESOP_DIVERSIFICATION_SHARES NUMBER(11, 2) 
, ER_AFTER_TAX_AMOUNT NUMBER(11, 2) 
, EQUITY_WASH_AMOUNT NUMBER(11, 2) 
, ELIGIBLE_FOR_BONUS VARCHAR2(1 BYTE) 
, ELIGIBILITY_EXCLUSION VARCHAR2(1 BYTE) 
, ELIG_ROLLOVER_DISTRIBUTIONS NUMBER(11, 2) 
, EGTRRA_TARGET_MESSAGE_ID NUMBER(38, 0) 
, DEFERRAL_GROUPING_ID VARCHAR2(4 BYTE) 
, DEFAULT_INVESTMENT_FLAG VARCHAR2(20 BYTE)  
, DEFAULT_DEFERRAL_FLAG VARCHAR2(20 BYTE)
, DEATH_BENEFIT_PERCENTAGE NUMBER(38, 0)
, STATE_CONTRIB_TAXED_BY_FLAG VARCHAR2(1 BYTE) 
, CLIENT_PASS_THRU_IDENTIFIER VARCHAR2(10 BYTE) 
, BROKERAGE_ACCOUNT_NUMBER VARCHAR2(20 BYTE)
, BENEFICIARY_CODE VARCHAR2(1 BYTE) 
, AUTOMATIC_INCREASE_FLAG VARCHAR2(1 BYTE) 
, ANNUAL_SALARY NUMBER(11, 2) 
, ANNUAL_DIST_AMOUNT NUMBER(11, 2) 
, ALTERNATE_TAXABILITY_STATE VARCHAR2(2 BYTE) 
, ALTERNATE_ACCOUNT_NUMBER VARCHAR2(100 BYTE) 
, ADVICE_ACCOUNT_REBAL_FREQ VARCHAR2(1 BYTE) 
, ADVICE_ACCOUNT_INDICATOR VARCHAR2(10 BYTE) 
, LAST_CRC_RATE_CHG_DT DATE
, SOURCE_CYCLE_DATE DATE 
, PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, PART_TYPE VARCHAR2(11 BYTE) 
, COUNTRY_NAME VARCHAR2(100 BYTE)
, ADVICE_TARGET_MESSAGE_3 NUMBER(38, 0) 
, ADVICE_TARGET_MESSAGE_2 NUMBER(38, 0) 
, ADVICE_TARGET_MESSAGE_1 NUMBER(38, 0) 
, ADDRESS_VALIDITY VARCHAR2(1 BYTE) 
, DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA
;


CREATE TABLE NEWR_REPOSB.TXN_DELTA
( 
  CLIENT_ID VARCHAR2(10 BYTE)  
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, TRADE_DATE DATE NOT NULL 
, RUN_DATE DATE NOT NULL 
, RUN_TIME VARCHAR2(20 BYTE) NOT NULL
, BASE_TRANSACTION_CODE VARCHAR2(20 BYTE) NOT NULL 
, ACTIVITY_TYPE NUMBER(32, 0) NOT NULL 
, REV_CODE VARCHAR2(20 BYTE) NOT NULL  
, FUND_IV VARCHAR2(20 BYTE) 
, FUND_NUMBER VARCHAR2(15 BYTE) 
, FUND_SRC VARCHAR2(20 BYTE) 
, MONEY_SOURCE VARCHAR2(10 BYTE) 
, CASH NUMBER(13, 2) 
, UNINVESTED_CASH NUMBER(13, 2) 
, SHARES NUMBER(13, 4) 
, SHARE_PRICE NUMBER(13, 6) 
, SEQUENCE_NUMBER VARCHAR2(50 BYTE) NOT NULL 
, POSTING_PROCESS_COUNTER VARCHAR2(20 BYTE) NOT NULL 
, USAGE_CODE_1 VARCHAR2(20 BYTE) 
, USAGE_CODE_2 VARCHAR2(20 BYTE) 
, USAGE_CODE_3 VARCHAR2(20 BYTE) 
, USAGE_CODE_4 VARCHAR2(20 BYTE) 
, USAGE_CODE_5 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_1 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_2 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_3 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_4 VARCHAR2(20 BYTE) 
, STANDARD_USAGE_CODE_5 VARCHAR2(20 BYTE) 
, PREVIOUS_ACTIVITY_DATE DATE 
, CATEGORY VARCHAR2(100 BYTE) 
, OTHER_CASH NUMBER(13, 2)
, ACTIVITY VARCHAR2(30 BYTE) 
, NET_CURRENCY_VALUE NUMBER(13, 2) 
, ALT_POSTING_PROCESS_COUNTER NUMBER(38, 0) 
, ASSOCIATED_ACTIVITY NUMBER(38, 0)  
, PAY_PERIOD_END_DATE DATE 
, REC_CODE VARCHAR2(20 BYTE) 
, RECORD_TYPE VARCHAR2(20 BYTE) 
, RESERVED_CASH_SHARES_IND NUMBER(15, 2)
, REVERSAL_REASON VARCHAR2(20 BYTE) 
, REVERSE_RUN_DATE DATE 
, SHARE_CLASS VARCHAR2(20 BYTE)
, SHARE_COST NUMBER(13, 2)
, TRAN_SEQ NUMBER(32, 0) 
, VOUCHER_NUMBER NUMBER(38, 0) 
, REC_TYPE VARCHAR2(6 BYTE) 
, ETIN_NUM VARCHAR2(9 BYTE) 
, FILEID_EXT VARCHAR2(20 BYTE) 
, FILEID_NAME VARCHAR2(20 BYTE) 
, FILEID_PTR_INDIC VARCHAR2(20 BYTE) 
, MARGIN_CODE VARCHAR2(10 BYTE)
, PART_EXT VARCHAR2(20 BYTE) 
, PART_EXT1 VARCHAR2(20 BYTE) 
, PART_NUM_X VARCHAR2(9 BYTE) 
, PART_NUM NUMBER(32, 0) 
, PART_SUB_PLAN VARCHAR2(6 BYTE) 
, PEND_STAT VARCHAR2(20 BYTE)
, PLAN_NUM VARCHAR2(6 BYTE)
, SEPARATE_ACCT VARCHAR2(20 BYTE) 
, COMPANY_CODE VARCHAR2(20 BYTE)  
, CURRENCY_CODE VARCHAR2(5 BYTE)
, CURRENCY_VALUE NUMBER(13, 2)
, SUB_ACTIVITY_CODE NUMBER(38, 0) 
, SOURCE_CYCLE_DATE DATE 
, TRADE_TYPE VARCHAR2(10 BYTE)
, SOURCE_PROCESSING_DATE DATE 
, TRAN_CODE VARCHAR2(20 BYTE) 
, SOURCE_SYSTEM VARCHAR2(40 BYTE) 
, USE_PLAN_YEAR_FLAG VARCHAR2(10 BYTE) 
, XR_RATE NUMBER(11, 6)  
, XR_TYPE VARCHAR2(20 BYTE) 
, PLAN_SEQUENCE VARCHAR2(6 BYTE)
, ACTIVITY_CODE_DESCRIPTION VARCHAR2(255)
, SEQ_OPER_CODE VARCHAR2(20 BYTE) 
, TRANSFORM_HASH_KEY NUMBER(38, 0)
, DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.txn TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.txn TO role_newr_repos_write;


GRANT SELECT ON NEWR_REPOSB.participant TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant TO role_newr_repos_write;

GRANT SELECT ON NEWR_REPOSB.participant_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_delta TO role_newr_repos_write;




GRANT SELECT ON NEWR_REPOSB.txn_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.txn_delta TO role_newr_repos_write;



--plan

CREATE TABLE NEWR_REPOSB.PLAN 
(
client_id VARCHAR2(10) ,
plan_number VARCHAR2(25) ,
plan_name_line_1 VARCHAR2(255) ,
plan_name_line_2 VARCHAR2(255) ,
plan_address_line_1 VARCHAR2(255) ,
plan_address_line_2 VARCHAR2(255) ,
plan_address_line_3 VARCHAR2(255) ,
plan_address_city VARCHAR2(255) ,
plan_address_state VARCHAR2(255) ,
plan_address_zip_code VARCHAR2(10) ,
sponsor_name_line_1 VARCHAR2(255) ,
sponsor_name_line_2 VARCHAR2(255) ,
sponsor_address1 VARCHAR2(255) ,
sponsor_address2 VARCHAR2(255) ,
sponsor_address3 VARCHAR2(255) ,
sponsor_city VARCHAR2(100) ,
sponsor_state VARCHAR2(3) ,
sponsor_zip_code VARCHAR2(10) ,
sponsor_country VARCHAR2(100) ,
primary_contact_first_name VARCHAR2(255) ,
primary_contact_last_name VARCHAR2(255) ,
primary_contact_phone_no VARCHAR2(80) ,
primary_contact_email VARCHAR2(80) ,
primary_contact_source_system VARCHAR2(10) ,
crm_name VARCHAR2(64) ,
crm_phone VARCHAR2(32) ,
crm_email VARCHAR2(128) ,
plan_manager_name VARCHAR2(80) ,
plan_product_code VARCHAR2(80) ,
plan_product_short_name VARCHAR2(255) ,
grp_product_desc VARCHAR2(40) ,
product_type VARCHAR2(5) ,
irc_code VARCHAR2(100) ,
irc_code_desc VARCHAR2(55) ,
ein_full VARCHAR2(254) ,
ein_number NUMBER(38,0) ,
ein_suffix VARCHAR2(5) ,
plan_issue_date DATE ,
tpa_code VARCHAR2(80) ,
tpa_name VARCHAR2(255) ,
trustee_email VARCHAR2(128) ,
trustee_name VARCHAR2(64) ,
trustee_phone VARCHAR2(32) ,
loans_allowed_flag VARCHAR2(1) ,
loan_401k_elective_limit NUMBER(38,0) ,
loan_max_pct_vested_curr_val NUMBER(3,2) ,
loan_maximum_amount NUMBER(11,2) ,
loan_minimum_amount NUMBER(11,2) ,
managed_account_flag VARCHAR2(10) ,
managed_account_start_date DATE ,
managed_account_end_date DATE ,
managed_accounts_program VARCHAR2(80) ,
ma_cust_adv_pgv VARCHAR2(5) ,
ma_ama_ria_firm_name VARCHAR2(255) ,
ma_init_freelook_start_date DATE ,
ma_init_freelook_start_durn VARCHAR2(80) ,
ma_init_freelook_start_window VARCHAR2(80) ,
ma_promo_freelook_start_date DATE ,
ma_promo_freelook_start_durn VARCHAR2(80) ,
ma_promo_freelook_start_window VARCHAR2(80) ,
managed_account_service_ind VARCHAR2(1) ,
managed_account_fee_type VARCHAR2(80) ,
managed_account_fee VARCHAR2(80) ,
ma_voya_as_advisor_is_qdia VARCHAR2(80) ,
ma1_override_amount NUMBER(10,6) ,
ma2_override_amount NUMBER(5,2) ,
mai_override_amount NUMBER(6,2) ,
mam_override_amount NUMBER(5,2) ,
managed_account_default_salary VARCHAR2(80) ,
ma_program_adoption_type VARCHAR2(80) ,
ma_program_default VARCHAR2(80) ,
ma_program_pricing_model VARCHAR2(80) ,
qdia_indicator VARCHAR2(1) ,
qdia_option VARCHAR2(1) ,
qdia_effective_date DATE ,
qdia_default_fund_iv VARCHAR2(5) ,
qdia_default_fund_number VARCHAR2(20) ,
qdia_portfolio_type_fund_name VARCHAR2(255) ,
qdia_portfolio_fund_series VARCHAR2(80) ,
model_portf_qdia_tgt_date_ind VARCHAR2(1) ,
model_portfolio_qdia_model_num VARCHAR2(5) ,
asset_alloc_made_easy_is_qdia VARCHAR2(8) ,
fiduciary_service_flag VARCHAR2(10) ,
fiduciary_services_program VARCHAR2(80) ,
fid_ser_program_name VARCHAR2(255) ,
fid_ser_start_date DATE ,
fid_ser_end_date DATE ,
fid_ser_fund_menu VARCHAR2(6) ,
fid_ser_fee_ded_meth VARCHAR2(50) ,
erisa_flag VARCHAR2(80) ,
sdbo_status VARCHAR2(80) ,
ach_online_payment_flag VARCHAR2(10) ,
enh_send_notice_flag VARCHAR2(1) ,
voya_send_notices_flag VARCHAR2(1) ,
plan_expand_flag VARCHAR2(1) ,
model_portfolio_fix_acct_flag VARCHAR2(1) ,
uses_contrib_rate_escalator VARCHAR2(10) ,
uses_eligibility_module VARCHAR2(10) ,
uses_loan_sweep_module VARCHAR2(10) ,
is_free_look_recurring VARCHAR2(80) ,
dwe_status VARCHAR2(32) ,
fee_deduction_method VARCHAR2(30) ,
income_secure_ma_flag VARCHAR2(80) ,
Plan_Unallocated_flag VARCHAR2(1) ,
usb_pgm_flag VARCHAR2(1) ,
auto_enroll VARCHAR2(1) ,
auto_enroll_eaca_qaca_ind VARCHAR2(10) ,
roth_ind VARCHAR2(1) ,
market_indicator VARCHAR2(2) ,
exchange_indicator VARCHAR2(1) ,
alternate_acct_number_ind VARCHAR2(1) ,
financial_engine_fees_ind VARCHAR2(10) ,
grp_plan_indicator VARCHAR2(1) ,
initial_notification_srvc_ind VARCHAR2(1) ,
migration_indicator VARCHAR2(1) ,
permissible_withdrawal_ind VARCHAR2(1) ,
advice_part_elig_allowed VARCHAR2(1) ,
record_Keeping_group_ind  VARCHAR2(20 BYTE),
plan_administrator_name VARCHAR2(255) ,
plan_company_code VARCHAR2(3) ,
plan_end_mmdd VARCHAR2(4) ,
model_portfolio_fix_acct_name VARCHAR2(255) ,
money_out_service_model VARCHAR2(1) ,
max_deferral_amount NUMBER(11,2) ,
max_deferral_percent NUMBER(5,4) ,
mtf_fee_recovery VARCHAR2(80) ,
mtf_override_amout NUMBER(10,2) ,
safe_harbor_amount VARCHAR2(80) ,
safe_harbor_percent VARCHAR2(80) ,
number_loans_allowed VARCHAR2(10) ,
dac_override_amount NUMBER(15,2) ,
crc_type VARCHAR2(1) ,
employer_stock VARCHAR2(5) ,
end_date DATE ,
financial_advisor VARCHAR2(80) ,
fund_menu VARCHAR2(80) ,
grp_product_name VARCHAR2(255) ,
hardship_suspension VARCHAR2(10) ,
old_billing_group VARCHAR2(80) ,
old_fixed_fund_number VARCHAR2(80) ,
old_product_code VARCHAR2(80) ,
plan_reference_key VARCHAR2(80) ,
plan_system_key VARCHAR2(80) ,
rep_id VARCHAR2(80) ,
start_date VARCHAR2(80) ,
superior_plan_name VARCHAR2(255) ,
superior_plan_reference_key VARCHAR2(80) ,
vesting_data_source VARCHAR2(10) ,
wealth_management_end_date DATE ,
wealth_management_start_date DATE ,
wealth_mgmt_retirement_allowed VARCHAR2(80) ,
billing_group VARCHAR2(6) ,
ease_db_plan_id VARCHAR2(10) ,
open_arch_menu_type VARCHAR2(80) ,
pcf_fee_recovery VARCHAR2(80) ,
pcf_override_amount NUMBER(8,2) ,
portfolio_blueprint_tier_amt VARCHAR2(80) ,
ppf_fee_recovery VARCHAR2(80) ,
ppf_override_amount NUMBER(8,2) ,
proposal_mail_date DATE ,
ss_plan_sept_act_code VARCHAR2(3) ,
market_code VARCHAR2(80) ,
source_cycle_date DATE ,
source_processing_date DATE ,
source_system VARCHAR2(80) ,
underlying_source_system VARCHAR2(80) ,
admin_system VARCHAR2(10) ,
CONSTRAINT PK_PLAN PRIMARY KEY 
(
  PLAN_NUMBER 
, CLIENT_ID 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.plan
--

GRANT SELECT ON NEWR_REPOSB.plan TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.plan TO role_newr_repos_write;

--plan

   CREATE TABLE NEWR_REPOSB.PLAN_DELTA 
(
  client_id VARCHAR2(10) ,
plan_number VARCHAR2(25) ,
plan_name_line_1 VARCHAR2(255) ,
plan_name_line_2 VARCHAR2(255) ,
plan_address_line_1 VARCHAR2(255) ,
plan_address_line_2 VARCHAR2(255) ,
plan_address_line_3 VARCHAR2(255) ,
plan_address_city VARCHAR2(255) ,
plan_address_state VARCHAR2(255) ,
plan_address_zip_code VARCHAR2(10) ,
sponsor_name_line_1 VARCHAR2(255) ,
sponsor_name_line_2 VARCHAR2(255) ,
sponsor_address1 VARCHAR2(255) ,
sponsor_address2 VARCHAR2(255) ,
sponsor_address3 VARCHAR2(255) ,
sponsor_city VARCHAR2(100) ,
sponsor_state VARCHAR2(3) ,
sponsor_zip_code VARCHAR2(10) ,
sponsor_country VARCHAR2(100) ,
primary_contact_first_name VARCHAR2(255) ,
primary_contact_last_name VARCHAR2(255) ,
primary_contact_phone_no VARCHAR2(80) ,
primary_contact_email VARCHAR2(80) ,
primary_contact_source_system VARCHAR2(10) ,
crm_name VARCHAR2(64) ,
crm_phone VARCHAR2(32) ,
crm_email VARCHAR2(128) ,
plan_manager_name VARCHAR2(80) ,
plan_product_code VARCHAR2(80) ,
plan_product_short_name VARCHAR2(255) ,
grp_product_desc VARCHAR2(40) ,
product_type VARCHAR2(5) ,
irc_code VARCHAR2(100) ,
irc_code_desc VARCHAR2(55) ,
ein_full VARCHAR2(254) ,
ein_number NUMBER(38,0) ,
ein_suffix VARCHAR2(5) ,
plan_issue_date DATE ,
tpa_code VARCHAR2(80) ,
tpa_name VARCHAR2(255) ,
trustee_email VARCHAR2(128) ,
trustee_name VARCHAR2(64) ,
trustee_phone VARCHAR2(32) ,
loans_allowed_flag VARCHAR2(1) ,
loan_401k_elective_limit NUMBER(38,0) ,
loan_max_pct_vested_curr_val NUMBER(3,2) ,
loan_maximum_amount NUMBER(11,2) ,
loan_minimum_amount NUMBER(11,2) ,
managed_account_flag VARCHAR2(10) ,
managed_account_start_date DATE ,
managed_account_end_date DATE ,
managed_accounts_program VARCHAR2(80) ,
ma_cust_adv_pgv VARCHAR2(5) ,
ma_ama_ria_firm_name VARCHAR2(255) ,
ma_init_freelook_start_date DATE ,
ma_init_freelook_start_durn VARCHAR2(80) ,
ma_init_freelook_start_window VARCHAR2(80) ,
ma_promo_freelook_start_date DATE ,
ma_promo_freelook_start_durn VARCHAR2(80) ,
ma_promo_freelook_start_window VARCHAR2(80) ,
managed_account_service_ind VARCHAR2(1) ,
managed_account_fee_type VARCHAR2(80) ,
managed_account_fee VARCHAR2(80) ,
ma_voya_as_advisor_is_qdia VARCHAR2(80) ,
ma1_override_amount NUMBER(10,6) ,
ma2_override_amount NUMBER(5,2) ,
mai_override_amount NUMBER(6,2) ,
mam_override_amount NUMBER(5,2) ,
managed_account_default_salary VARCHAR2(80) ,
ma_program_adoption_type VARCHAR2(80) ,
ma_program_default VARCHAR2(80) ,
ma_program_pricing_model VARCHAR2(80) ,
qdia_indicator VARCHAR2(1) ,
qdia_option VARCHAR2(1) ,
qdia_effective_date DATE ,
qdia_default_fund_iv VARCHAR2(5) ,
qdia_default_fund_number VARCHAR2(20) ,
qdia_portfolio_type_fund_name VARCHAR2(255) ,
qdia_portfolio_fund_series VARCHAR2(80) ,
model_portf_qdia_tgt_date_ind VARCHAR2(1) ,
model_portfolio_qdia_model_num VARCHAR2(5) ,
asset_alloc_made_easy_is_qdia VARCHAR2(8) ,
fiduciary_service_flag VARCHAR2(10) ,
fiduciary_services_program VARCHAR2(80) ,
fid_ser_program_name VARCHAR2(255) ,
fid_ser_start_date DATE ,
fid_ser_end_date DATE ,
fid_ser_fund_menu VARCHAR2(6) ,
fid_ser_fee_ded_meth VARCHAR2(50) ,
erisa_flag VARCHAR2(80) ,
sdbo_status VARCHAR2(80) ,
ach_online_payment_flag VARCHAR2(10) ,
enh_send_notice_flag VARCHAR2(1) ,
voya_send_notices_flag VARCHAR2(1) ,
plan_expand_flag VARCHAR2(1) ,
model_portfolio_fix_acct_flag VARCHAR2(1) ,
uses_contrib_rate_escalator VARCHAR2(10) ,
uses_eligibility_module VARCHAR2(10) ,
uses_loan_sweep_module VARCHAR2(10) ,
is_free_look_recurring VARCHAR2(80) ,
dwe_status VARCHAR2(32) ,
fee_deduction_method VARCHAR2(30) ,
income_secure_ma_flag VARCHAR2(80) ,
Plan_Unallocated_flag VARCHAR2(1) ,
usb_pgm_flag VARCHAR2(1) ,
auto_enroll VARCHAR2(1) ,
auto_enroll_eaca_qaca_ind VARCHAR2(10) ,
roth_ind VARCHAR2(1) ,
market_indicator VARCHAR2(2) ,
exchange_indicator VARCHAR2(1) ,
alternate_acct_number_ind VARCHAR2(1) ,
financial_engine_fees_ind VARCHAR2(10) ,
grp_plan_indicator VARCHAR2(1) ,
initial_notification_srvc_ind VARCHAR2(1) ,
migration_indicator VARCHAR2(1) ,
permissible_withdrawal_ind VARCHAR2(1) ,
advice_part_elig_allowed VARCHAR2(1) ,
record_Keeping_group_ind  VARCHAR2(20 BYTE) ,
plan_administrator_name VARCHAR2(255) ,
plan_company_code VARCHAR2(3) ,
plan_end_mmdd VARCHAR2(4) ,
model_portfolio_fix_acct_name VARCHAR2(255) ,
money_out_service_model VARCHAR2(1) ,
max_deferral_amount NUMBER(11,2) ,
max_deferral_percent NUMBER(5,4) ,
mtf_fee_recovery VARCHAR2(80) ,
mtf_override_amout NUMBER(10,2) ,
safe_harbor_amount VARCHAR2(80) ,
safe_harbor_percent VARCHAR2(80) ,
number_loans_allowed VARCHAR2(10) ,
dac_override_amount NUMBER(15,2) ,
crc_type VARCHAR2(1) ,
employer_stock VARCHAR2(5) ,
end_date DATE ,
financial_advisor VARCHAR2(80) ,
fund_menu VARCHAR2(80) ,
grp_product_name VARCHAR2(255) ,
hardship_suspension VARCHAR2(10) ,
old_billing_group VARCHAR2(80) ,
old_fixed_fund_number VARCHAR2(80) ,
old_product_code VARCHAR2(80) ,
plan_reference_key VARCHAR2(80) ,
plan_system_key VARCHAR2(80) ,
rep_id VARCHAR2(80) ,
start_date VARCHAR2(80) ,
superior_plan_name VARCHAR2(255) ,
superior_plan_reference_key VARCHAR2(80) ,
vesting_data_source VARCHAR2(10) ,
wealth_management_end_date DATE ,
wealth_management_start_date DATE ,
wealth_mgmt_retirement_allowed VARCHAR2(80) ,
billing_group VARCHAR2(6) ,
ease_db_plan_id VARCHAR2(10) ,
open_arch_menu_type VARCHAR2(80) ,
pcf_fee_recovery VARCHAR2(80) ,
pcf_override_amount NUMBER(8,2) ,
portfolio_blueprint_tier_amt VARCHAR2(80) ,
ppf_fee_recovery VARCHAR2(80) ,
ppf_override_amount NUMBER(8,2) ,
proposal_mail_date DATE ,
ss_plan_sept_act_code VARCHAR2(3) ,
market_code VARCHAR2(80) ,
source_cycle_date DATE ,
source_processing_date DATE ,
source_system VARCHAR2(80) ,
underlying_source_system VARCHAR2(80) ,
admin_system VARCHAR2(10) ,
DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.plan
--

GRANT SELECT ON NEWR_REPOSB.plan_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.plan_DELTA TO role_newr_repos_write;




CREATE TABLE NEWR_REPOSB.PARTICIPANT_CORE_BALANCE 
(
retirement_account_id VARCHAR2(36)  ,
client_id VARCHAR2(10)  ,
plan_number VARCHAR2(25)  ,
participant_id VARCHAR2(25)  ,
fund_number VARCHAR2(15)  ,
money_source VARCHAR2(10)  ,
money_source_name VARCHAR2(64) ,
fund_iv VARCHAR2(10)  NOT NULL,
fund_name VARCHAR2(100) ,
money_type_description VARCHAR2(2) ,
cash_value_amount NUMBER(17,2) ,
total_shares NUMBER(17,4) ,
share_price NUMBER(19,6) ,
sdba_cash_value_amount NUMBER(15,2) ,
sdba_trade_date DATE ,
ytd_contributions NUMBER(17,2) ,
vested_balance NUMBER(15,2) ,
vested_percent NUMBER(15,2) ,
uninvested_balance NUMBER(15,2) ,
contribution_gross NUMBER(15,2) ,
contribution_current_fis_year VARCHAR2(25) ,
current_net_contribution NUMBER(15,2) ,
contrib_payment_attributable NUMBER(15,2) ,
contribution_alloc_pct NUMBER(13,4) ,
net_dollars NUMBER(15,2) ,
disbursements_fee NUMBER(15,2) ,
disbursements_withdrawal NUMBER(15,2) ,
disbursements_termination NUMBER(15,2) ,
disbursements_installment NUMBER(15,2) ,
loan_issues NUMBER(15,2) ,
loan_repayment_interest NUMBER(15,2) ,
loan_repayment_principal NUMBER(15,2) ,
debits_miscellanous NUMBER(15,2) ,
receipts_miscellanous NUMBER(15,2) ,
transfers_in NUMBER(15,2) ,
transfers_out NUMBER(15,2) ,
debits_other NUMBER(15,2) ,
cash_earnings NUMBER(15,2) ,
dividend_earnings NUMBER(15,2) ,
shares_gain_loss_earnings NUMBER(13,4) ,
accrued_dividend_amount NUMBER(15,4) ,
annual_dividend_amount NUMBER(15,4) ,
credited_forfeitures NUMBER(15,2) ,
debited_forfeitures NUMBER(15,2) ,
conversions_in NUMBER(15,2) ,
conversions_out NUMBER(15,2) ,
shares_purchased NUMBER(13,4) ,
shares_receipted NUMBER(13,4) ,
shares_sold NUMBER(13,4) ,
shares_distributed NUMBER(15,2) ,
shares_forfeited NUMBER(15,2) ,
cash_credit_pending NUMBER(15,2) ,
shares_credit_pending NUMBER(15,2) ,
cash_debit_pending NUMBER(15,2) ,
shares_debit_pending NUMBER(15,2) ,
fund_margin_code VARCHAR2(10) ,
account_fund_separate VARCHAR2(10) ,
insurance_premium_paid NUMBER(15,2) ,
trade_date DATE ,
source_cycle_date DATE ,
valuation_date DATE ,
action_code VARCHAR2(1) ,
source_system VARCHAR2(80) ,
CONSTRAINT PK_PRIMARY_CORE_BALANCE PRIMARY KEY 
(
retirement_account_id
, MONEY_SOURCE  
, FUND_IV 
, PLAN_NUMBER 
, PARTICIPANT_ID 
, FUND_NUMBER 
, CLIENT_ID 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;
--participant_core_balance_monthly

CREATE TABLE NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY 
(
retirement_account_id VARCHAR2(36)  ,
client_id VARCHAR2(10)  ,
plan_number VARCHAR2(25)  ,
participant_id VARCHAR2(25)  ,
fund_number VARCHAR2(15)  ,
money_source VARCHAR2(10)  ,
money_source_name VARCHAR2(64) ,
fund_iv VARCHAR2(10)  NOT NULL,
fund_name VARCHAR2(100) ,
money_type_description VARCHAR2(2) ,
cash_value_amount NUMBER(17,2) ,
total_shares NUMBER(17,4) ,
share_price NUMBER(19,6) ,
sdba_cash_value_amount NUMBER(15,2) ,
sdba_trade_date DATE ,
ytd_contributions NUMBER(17,2) ,
vested_balance NUMBER(15,2) ,
vested_percent NUMBER(15,2) ,
uninvested_balance NUMBER(15,2) ,
contribution_gross NUMBER(15,2) ,
contribution_current_fis_year VARCHAR2(25) ,
current_net_contribution NUMBER(15,2) ,
contrib_payment_attributable NUMBER(15,2) ,
contribution_alloc_pct NUMBER(13,4) ,
net_dollars NUMBER(15,2) ,
disbursements_fee NUMBER(15,2) ,
disbursements_withdrawal NUMBER(15,2) ,
disbursements_termination NUMBER(15,2) ,
disbursements_installment NUMBER(15,2) ,
loan_issues NUMBER(15,2) ,
loan_repayment_interest NUMBER(15,2) ,
loan_repayment_principal NUMBER(15,2) ,
debits_miscellanous NUMBER(15,2) ,
receipts_miscellanous NUMBER(15,2) ,
transfers_in NUMBER(15,2) ,
transfers_out NUMBER(15,2) ,
debits_other NUMBER(15,2) ,
cash_earnings NUMBER(15,2) ,
dividend_earnings NUMBER(15,2) ,
shares_gain_loss_earnings NUMBER(13,4) ,
accrued_dividend_amount NUMBER(15,4) ,
annual_dividend_amount NUMBER(15,4) ,
credited_forfeitures NUMBER(15,2) ,
debited_forfeitures NUMBER(15,2) ,
conversions_in NUMBER(15,2) ,
conversions_out NUMBER(15,2) ,
shares_purchased NUMBER(13,4) ,
shares_receipted NUMBER(13,4) ,
shares_sold NUMBER(13,4) ,
shares_distributed NUMBER(15,2) ,
shares_forfeited NUMBER(15,2) ,
cash_credit_pending NUMBER(15,2) ,
shares_credit_pending NUMBER(15,2) ,
cash_debit_pending NUMBER(15,2) ,
shares_debit_pending NUMBER(15,2) ,
fund_margin_code VARCHAR2(10) ,
account_fund_separate VARCHAR2(10) ,
insurance_premium_paid NUMBER(15,2) ,
trade_date DATE ,
source_cycle_date DATE ,
valuation_date DATE ,
action_code VARCHAR2(1) ,
source_system VARCHAR2(80), 
CONSTRAINT PK_PRIMARY_CORE_BALANCE_MONTHLY PRIMARY KEY 
(
  retirement_account_id
, MONEY_SOURCE  
, FUND_IV 
, PLAN_NUMBER 
, PARTICIPANT_ID 
, FUND_NUMBER 
, CLIENT_ID
, source_cycle_date
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.participant_core_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_core_balance TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_core_balance TO role_newr_repos_write;

-- TABLE: NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY
-- 

GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY TO role_newr_repos_write;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_DELTA 
(
retirement_account_id VARCHAR2(36)  ,
client_id VARCHAR2(10)  ,
plan_number VARCHAR2(25)  ,
participant_id VARCHAR2(25)  ,
fund_number VARCHAR2(15)  ,
money_source VARCHAR2(10)  ,
money_source_name VARCHAR2(64) ,
fund_iv VARCHAR2(10)  NOT NULL,
fund_name VARCHAR2(100) ,
money_type_description VARCHAR2(2) ,
cash_value_amount NUMBER(17,2) ,
total_shares NUMBER(17,4) ,
share_price NUMBER(19,6) ,
sdba_cash_value_amount NUMBER(15,2) ,
sdba_trade_date DATE ,
ytd_contributions NUMBER(17,2) ,
vested_balance NUMBER(15,2) ,
vested_percent NUMBER(15,2) ,
uninvested_balance NUMBER(15,2) ,
contribution_gross NUMBER(15,2) ,
contribution_current_fis_year VARCHAR2(25) ,
current_net_contribution NUMBER(15,2) ,
contrib_payment_attributable NUMBER(15,2) ,
contribution_alloc_pct NUMBER(13,4) ,
net_dollars NUMBER(15,2) ,
disbursements_fee NUMBER(15,2) ,
disbursements_withdrawal NUMBER(15,2) ,
disbursements_termination NUMBER(15,2) ,
disbursements_installment NUMBER(15,2) ,
loan_issues NUMBER(15,2) ,
loan_repayment_interest NUMBER(15,2) ,
loan_repayment_principal NUMBER(15,2) ,
debits_miscellanous NUMBER(15,2) ,
receipts_miscellanous NUMBER(15,2) ,
transfers_in NUMBER(15,2) ,
transfers_out NUMBER(15,2) ,
debits_other NUMBER(15,2) ,
cash_earnings NUMBER(15,2) ,
dividend_earnings NUMBER(15,2) ,
shares_gain_loss_earnings NUMBER(13,4) ,
accrued_dividend_amount NUMBER(15,4) ,
annual_dividend_amount NUMBER(15,4) ,
credited_forfeitures NUMBER(15,2) ,
debited_forfeitures NUMBER(15,2) ,
conversions_in NUMBER(15,2) ,
conversions_out NUMBER(15,2) ,
shares_purchased NUMBER(13,4) ,
shares_receipted NUMBER(13,4) ,
shares_sold NUMBER(13,4) ,
shares_distributed NUMBER(15,2) ,
shares_forfeited NUMBER(15,2) ,
cash_credit_pending NUMBER(15,2) ,
shares_credit_pending NUMBER(15,2) ,
cash_debit_pending NUMBER(15,2) ,
shares_debit_pending NUMBER(15,2) ,
fund_margin_code VARCHAR2(10) ,
account_fund_separate VARCHAR2(10) ,
insurance_premium_paid NUMBER(15,2) ,
trade_date DATE ,
source_cycle_date DATE ,
valuation_date DATE ,
action_code VARCHAR2(1) ,
source_system VARCHAR2(80) ,
DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
;
--participant_core_balance_monthly

CREATE TABLE NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY_DELTA 
(
retirement_account_id VARCHAR2(36)  ,
client_id VARCHAR2(10)  ,
plan_number VARCHAR2(25)  ,
participant_id VARCHAR2(25)  ,
fund_number VARCHAR2(15)  ,
money_source VARCHAR2(10)  ,
money_source_name VARCHAR2(64) ,
fund_iv VARCHAR2(10)  NOT NULL,
fund_name VARCHAR2(100) ,
money_type_description VARCHAR2(2) ,
cash_value_amount NUMBER(17,2) ,
total_shares NUMBER(17,4) ,
share_price NUMBER(19,6) ,
sdba_cash_value_amount NUMBER(15,2) ,
sdba_trade_date DATE ,
ytd_contributions NUMBER(17,2) ,
vested_balance NUMBER(15,2) ,
vested_percent NUMBER(15,2) ,
uninvested_balance NUMBER(15,2) ,
contribution_gross NUMBER(15,2) ,
contribution_current_fis_year VARCHAR2(25) ,
current_net_contribution NUMBER(15,2) ,
contrib_payment_attributable NUMBER(15,2) ,
contribution_alloc_pct NUMBER(13,4) ,
net_dollars NUMBER(15,2) ,
disbursements_fee NUMBER(15,2) ,
disbursements_withdrawal NUMBER(15,2) ,
disbursements_termination NUMBER(15,2) ,
disbursements_installment NUMBER(15,2) ,
loan_issues NUMBER(15,2) ,
loan_repayment_interest NUMBER(15,2) ,
loan_repayment_principal NUMBER(15,2) ,
debits_miscellanous NUMBER(15,2) ,
receipts_miscellanous NUMBER(15,2) ,
transfers_in NUMBER(15,2) ,
transfers_out NUMBER(15,2) ,
debits_other NUMBER(15,2) ,
cash_earnings NUMBER(15,2) ,
dividend_earnings NUMBER(15,2) ,
shares_gain_loss_earnings NUMBER(13,4) ,
accrued_dividend_amount NUMBER(15,4) ,
annual_dividend_amount NUMBER(15,4) ,
credited_forfeitures NUMBER(15,2) ,
debited_forfeitures NUMBER(15,2) ,
conversions_in NUMBER(15,2) ,
conversions_out NUMBER(15,2) ,
shares_purchased NUMBER(13,4) ,
shares_receipted NUMBER(13,4) ,
shares_sold NUMBER(13,4) ,
shares_distributed NUMBER(15,2) ,
shares_forfeited NUMBER(15,2) ,
cash_credit_pending NUMBER(15,2) ,
shares_credit_pending NUMBER(15,2) ,
cash_debit_pending NUMBER(15,2) ,
shares_debit_pending NUMBER(15,2) ,
fund_margin_code VARCHAR2(10) ,
account_fund_separate VARCHAR2(10) ,
insurance_premium_paid NUMBER(15,2) ,
trade_date DATE ,
source_cycle_date DATE ,
valuation_date DATE ,
action_code VARCHAR2(1) ,
source_system VARCHAR2(80), 
DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.participant_core_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_core_balance_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_core_balance_DELTA TO role_newr_repos_write;

-- TABLE: NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY
-- 

GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_CORE_BALANCE_MONTHLY_DELTA TO role_newr_repos_write;


--NEWR_REPOSB.div_sub_transaction_trend;
 drop table NEWR_REPOSB.div_sub_transaction_trend;
 drop table NEWR_REPOSB.div_sub_transaction_trend_delta;


--NEWR_REPOSB.TRANSACTION_TREND 
CREATE TABLE NEWR_REPOSB.TRANSACTION_TREND 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL
, DIV_SUB_ID VARCHAR2(6 BYTE)  
, SOURCE_CYCLE_DATE DATE 
, TOTAL_BENEFICIARY_SPLITS_COUNT NUMBER(38, 0) 
, TOTAL_CASH_EARNINGS_AMOUNT NUMBER(14, 2) 
, TOTAL_CASH_EARNINGS_COUNT NUMBER(38, 0) 
, TOTAL_DEFAULT_ROLL_DISTRIB_AMOUNT NUMBER(14, 2) 
, TOTAL_DEFAULT_ROLL_DISTRIB_COUNT NUMBER(38, 0) 
, TOTAL_DEMINIMUS_DISTRIB_AMOUNT NUMBER(14, 2) 
, TOTAL_DEMINIMUS_DISTRIB_COUNT NUMBER(38, 0) 
, TOTAL_DIVIDEND_PASS_THRU_AMOUNT NUMBER(14, 2) 
, TOTAL_DIVIDEND_PASS_THRU_COUNT NUMBER(38, 0) 
, TOTAL_DIVIDEND_REINVESTMENTS_AMOUNT NUMBER(14, 2) 
, TOTAL_DIVIDEND_REINVESTMENTS_COUNT NUMBER(38, 0) 
, TOTAL_EMP_AFTER_TAX_CONTRI_COUNT NUMBER(38, 0) 
, TOTAL_EMP_BEFORE_TAX_CONTRI_COUNT NUMBER(38, 0) 
, TOTAL_EMPLOYER_CONTRIB_COUNT NUMBER(38, 0) 
, TOTAL_ENROLLMENTS NUMBER(38, 0) 
, TOTAL_FEE_DEDUCTIONS_COUNT NUMBER(38, 0) 
, TOTAL_HARDSHIP_WITHDRAWALS_AMOUNT NUMBER(14, 2) 
, TOTAL_HARDSHIP_WITHDRAWALS_COUNT NUMBER(38, 0) 
, TOTAL_INSRVC_WITHD_NO_ROLL_AMOUNT NUMBER(14, 2) 
, TOTAL_INSRVC_WITHD_NO_ROLL_COUNT NUMBER(38, 0) 
, TOTAL_INSRVC_WITHD_WITH_ROLL_COUNT NUMBER(38, 0)
, TOTAL_INSTALL_DISTRIB_ACH_AMOUNT NUMBER(14, 2) 
, TOTAL_INSTALL_DISTRIB_ACH_COUNT NUMBER(38, 0) 
, TOTAL_INSTALL_DISTRIB_CHECK_AMOUNT NUMBER(14, 2) 
, TOTAL_INSTALL_DISTRIB_CHECK_COUNT NUMBER(38, 0)    
, TOTAL_INSTALLMENTS_SETUP_COUNT NUMBER(38, 0)
, TOTAL_LOAN_DEF_DEEMED_DISTRIB_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_ISSUE_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_ISSUE_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_PAYOFF_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_REAMORTIZED_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_REPAYMENTS_COUNT NUMBER(38, 0) 
, TOTAL_QDRO_SPLITS_COUNT NUMBER(38, 0) 
, TOTAL_REBAL_XFER_COUNT NUMBER(38, 0) 
, TOTAL_RMD_AMOUNT NUMBER(14, 2) 
, TOTAL_RMD_COUNT NUMBER(38, 0) 
, TOTAL_ROLLOVER_CONTRIB_COUNT NUMBER(38, 0) 
, TOTAL_TERM_DISTRIB_NO_ROLL_AMOUNT NUMBER(14, 2) 
, TOTAL_TERM_DISTRIB_NO_ROLL_COUNT NUMBER(38, 0) 
, TOTAL_TERM_DISTRIB_ROLL_COUNT NUMBER(38, 0) 
, TOTAL_TERM_DISTRIB_ROLL_NOT_ROLL NUMBER(14, 2) 
, TOTAL_TERM_DISTRIB_ROLL_ROLLED NUMBER(14, 2) 
, TOTAL_UNREAL_EARN_COUNT NUMBER(19, 0) 
, TOTAL_UNREAL_EARN_AMOUNT NUMBER(14, 2) 
, TOTAL_DIV_COUNT NUMBER(19, 0) 
, TOTAL_DIV_AMOUNT NUMBER(14, 2) 
, TOTAL_EARN_BASE_FCT_COUNT NUMBER(19, 0) 
, TOTAL_EARN_BASE_FCT_AMOUNT NUMBER(14, 2) 
, TOTAL_FEE_COUNT NUMBER(38, 0) 
, TOTAL_FEE_AMOUNT NUMBER(14, 2) 
, TOTAL_INTER_PPT_TO_COUNT NUMBER(19, 0) 
, TOTAL_INTER_PPT_TO_AMOUNT NUMBER(14, 2) 
, TOTAL_INTER_PPT_FRM_COUNT NUMBER(19, 0) 
, TOTAL_INTER_PPT_FRM_AMOUNT NUMBER(14, 2) 
, TOTAL_INTER_PPT_REL_COUNT NUMBER(19, 0) 
, TOTAL_INTER_PPT_REL_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_REAMRT_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_REAMRT_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_RAMRT_RT_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_RAMRT_RT_AMOUNT NUMBER(14, 2) 
, TOTAL_ACCORD_INT_COUNT NUMBER(19, 0) 
, TOTAL_ACCORD_INT_AMOUNT NUMBER(14, 2) 
, TOTAL_RTRN_EXCSS_COUNT NUMBER(19, 0) 
, TOTAL_RTRN_EXCSS_AMOUNT NUMBER(14, 2) 
, TOTAL_RTRN_EXCSS_WD_COUNT NUMBER(19, 0) 
, TOTAL_RTRN_EXCSS_WD_AMOUNT NUMBER(14, 2) 
, TOTAL_ENRL_DEM_COUNT NUMBER(19, 0) 
, TOTAL_ENRL_ELEC_COUNT NUMBER(19, 0) 
, TOTAL_DEM_UPDT_COUNT NUMBER(19, 0) 
, TOTAL_INV_ELEC_COUNT NUMBER(19, 0) 
, TOTAL_WITHD_ROLL_NOT_ROLLED_AMOUNT NUMBER(14, 2)
, TOTAL_WITHD_ROLL_ROLLED_AMOUNT NUMBER(14, 2)
, TRANSFORM_HASH_KEY NUMBER(38,0),
CONSTRAINT PK_TRANSACTION_TREND PRIMARY KEY 
(
  CLIENT_ID 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.transaction_trend TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.transaction_trend TO role_newr_repos_write;



CREATE TABLE NEWR_REPOSB.TRANSACTION_TREND_delta
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL
, DIV_SUB_ID VARCHAR2(6 BYTE)  
, SOURCE_CYCLE_DATE DATE 
, TOTAL_BENEFICIARY_SPLITS_COUNT NUMBER(38, 0) 
, TOTAL_CASH_EARNINGS_AMOUNT NUMBER(14, 2) 
, TOTAL_CASH_EARNINGS_COUNT NUMBER(38, 0) 
, TOTAL_DEFAULT_ROLL_DISTRIB_AMOUNT NUMBER(14, 2) 
, TOTAL_DEFAULT_ROLL_DISTRIB_COUNT NUMBER(38, 0) 
, TOTAL_DEMINIMUS_DISTRIB_AMOUNT NUMBER(14, 2) 
, TOTAL_DEMINIMUS_DISTRIB_COUNT NUMBER(38, 0) 
, TOTAL_DIVIDEND_PASS_THRU_AMOUNT NUMBER(14, 2) 
, TOTAL_DIVIDEND_PASS_THRU_COUNT NUMBER(38, 0) 
, TOTAL_DIVIDEND_REINVESTMENTS_AMOUNT NUMBER(14, 2) 
, TOTAL_DIVIDEND_REINVESTMENTS_COUNT NUMBER(38, 0) 
, TOTAL_EMP_AFTER_TAX_CONTRI_COUNT NUMBER(38, 0) 
, TOTAL_EMP_BEFORE_TAX_CONTRI_COUNT NUMBER(38, 0) 
, TOTAL_EMPLOYER_CONTRIB_COUNT NUMBER(38, 0) 
, TOTAL_ENROLLMENTS NUMBER(38, 0) 
, TOTAL_FEE_DEDUCTIONS_COUNT NUMBER(38, 0) 
, TOTAL_HARDSHIP_WITHDRAWALS_AMOUNT NUMBER(14, 2) 
, TOTAL_HARDSHIP_WITHDRAWALS_COUNT NUMBER(38, 0) 
, TOTAL_INSRVC_WITHD_NO_ROLL_AMOUNT NUMBER(14, 2) 
, TOTAL_INSRVC_WITHD_NO_ROLL_COUNT NUMBER(38, 0) 
, TOTAL_INSRVC_WITHD_WITH_ROLL_COUNT NUMBER(38, 0)
, TOTAL_INSTALL_DISTRIB_ACH_AMOUNT NUMBER(14, 2) 
, TOTAL_INSTALL_DISTRIB_ACH_COUNT NUMBER(38, 0) 
, TOTAL_INSTALL_DISTRIB_CHECK_AMOUNT NUMBER(14, 2) 
, TOTAL_INSTALL_DISTRIB_CHECK_COUNT NUMBER(38, 0)    
, TOTAL_INSTALLMENTS_SETUP_COUNT NUMBER(38, 0)
, TOTAL_LOAN_DEF_DEEMED_DISTRIB_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_ISSUE_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_ISSUE_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_PAYOFF_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_REAMORTIZED_COUNT NUMBER(38, 0) 
, TOTAL_LOAN_REPAYMENTS_COUNT NUMBER(38, 0) 
, TOTAL_QDRO_SPLITS_COUNT NUMBER(38, 0) 
, TOTAL_REBAL_XFER_COUNT NUMBER(38, 0) 
, TOTAL_RMD_AMOUNT NUMBER(14, 2) 
, TOTAL_RMD_COUNT NUMBER(38, 0) 
, TOTAL_ROLLOVER_CONTRIB_COUNT NUMBER(38, 0) 
, TOTAL_TERM_DISTRIB_NO_ROLL_AMOUNT NUMBER(14, 2) 
, TOTAL_TERM_DISTRIB_NO_ROLL_COUNT NUMBER(38, 0) 
, TOTAL_TERM_DISTRIB_ROLL_COUNT NUMBER(38, 0) 
, TOTAL_TERM_DISTRIB_ROLL_NOT_ROLL NUMBER(14, 2) 
, TOTAL_TERM_DISTRIB_ROLL_ROLLED NUMBER(14, 2) 
, TOTAL_UNREAL_EARN_COUNT NUMBER(19, 0) 
, TOTAL_UNREAL_EARN_AMOUNT NUMBER(14, 2) 
, TOTAL_DIV_COUNT NUMBER(19, 0) 
, TOTAL_DIV_AMOUNT NUMBER(14, 2) 
, TOTAL_EARN_BASE_FCT_COUNT NUMBER(19, 0) 
, TOTAL_EARN_BASE_FCT_AMOUNT NUMBER(14, 2) 
, TOTAL_FEE_COUNT NUMBER(38, 0) 
, TOTAL_FEE_AMOUNT NUMBER(14, 2) 
, TOTAL_INTER_PPT_TO_COUNT NUMBER(19, 0) 
, TOTAL_INTER_PPT_TO_AMOUNT NUMBER(14, 2) 
, TOTAL_INTER_PPT_FRM_COUNT NUMBER(19, 0) 
, TOTAL_INTER_PPT_FRM_AMOUNT NUMBER(14, 2) 
, TOTAL_INTER_PPT_REL_COUNT NUMBER(19, 0) 
, TOTAL_INTER_PPT_REL_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_REAMRT_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_REAMRT_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_RAMRT_RT_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_RAMRT_RT_AMOUNT NUMBER(14, 2) 
, TOTAL_ACCORD_INT_COUNT NUMBER(19, 0) 
, TOTAL_ACCORD_INT_AMOUNT NUMBER(14, 2) 
, TOTAL_RTRN_EXCSS_COUNT NUMBER(19, 0) 
, TOTAL_RTRN_EXCSS_AMOUNT NUMBER(14, 2) 
, TOTAL_RTRN_EXCSS_WD_COUNT NUMBER(19, 0) 
, TOTAL_RTRN_EXCSS_WD_AMOUNT NUMBER(14, 2) 
, TOTAL_ENRL_DEM_COUNT NUMBER(19, 0) 
, TOTAL_ENRL_ELEC_COUNT NUMBER(19, 0) 
, TOTAL_DEM_UPDT_COUNT NUMBER(19, 0) 
, TOTAL_INV_ELEC_COUNT NUMBER(19, 0) 
, TOTAL_WITHD_ROLL_NOT_ROLLED_AMOUNT NUMBER(14, 2)
, TOTAL_WITHD_ROLL_ROLLED_AMOUNT NUMBER(14, 2)
, TRANSFORM_HASH_KEY NUMBER(38,0)
, DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.transaction_trend_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.transaction_trend_delta TO role_newr_repos_write;




drop table NEWR_REPOSB.div_sub_part_status_trend;
drop table NEWR_REPOSB.div_sub_part_status_trend_delta;


CREATE TABLE NEWR_REPOSB.PARTICIPANT_STATUS_TREND 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, DIV_SUB_ID VARCHAR2(6 BYTE) 
, SOURCE_CYCLE_DATE DATE NOT NULL 
, ACTIVE_CONTRIBUTING_COUNT VARCHAR2(10 BYTE) 
, ACTIVE_CONTRIBUTING_TOTAL_BALANCE NUMBER(14, 2) 
, ACTIVE_NOT_CONTRIBUTING_COUNT VARCHAR2(10 BYTE) 
, ACTIVE_NOT_CONTRIBUTE_TOTAL_AMOUNT NUMBER(14, 2) 
, CATCHUP_ELIGIBLE_COUNT VARCHAR2(10 BYTE) 
, CATCHUP_ELIGIBLE_TOTAL_AMOUNT NUMBER(14, 2) 
, CATCHUP_PARTICIPATING_COUNT VARCHAR2(10 BYTE) 
, CATCHUP_PART_TOTAL_AMOUNT NUMBER(14, 2) 
, ELIG_NOT_PART_NOT_BALANCE_COUNT VARCHAR2(10 BYTE) 
, ELIG_NOT_PART_BALANCE_COUNT VARCHAR2(10 BYTE) 
, ELIG_NOT_PART_TOTAL_AMOUNT NUMBER(14, 2) 
, INELIGIBLE_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, INELIGIBLE_WITH_BALANCE_TOTAL_AMOUNT NUMBER(14, 2) 
, OMNI_STATUS_CODE_01_COUNT VARCHAR2(10 BYTE) 
, OMNI_STATUS_CODE_01_TOTAL_AMOUNT NUMBER(14, 2) 
, OMNI_STATUS_CODE_05_COUNT VARCHAR2(10 BYTE) 
, OMNI_STATUS_CODE_05_TOTAL_BAL NUMBER(14, 2) 
, PART_WITH_BALANCE_AVERAGE_AMOUNT NUMBER(14, 2) 
, PART_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, PARTICIPANTS_WITH_BALANCE_TOTAL_AMOUNT NUMBER(14, 2) 
, SUSPENDED_NO_BALANCE_COUNT VARCHAR2(10 BYTE) 
, SUSPENDED_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, SUSPENDED_WITH_BAL_TOTAL_BAL NUMBER(14, 2) 
, TERMINATED_NO_BALANCE_COUNT VARCHAR2(10 BYTE) 
, TERMINATED_REC_INSTALL_COUNT VARCHAR2(10 BYTE) 
, TERMINATED_REC_INSTALL_TOTAL_AMOUNT NUMBER(14, 2) 
, TERMINATED_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, TERMINATED_WITH_BALANCE_TOTAL_AMOUNT NUMBER(14, 2) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) ,
CONSTRAINT PK_DIV_SUB_PART_STATUS_TREND PRIMARY KEY 
(
  CLIENT_ID 
, SOURCE_CYCLE_DATE 
, PLAN_NUMBER,div_sub_id 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.participant_status_trend TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_status_trend TO role_newr_repos_write;




--participant_status_trend_delta

CREATE TABLE NEWR_REPOSB.PARTICIPANT_STATUS_TREND_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)  
, DIV_SUB_ID VARCHAR2(6 BYTE) 
, SOURCE_CYCLE_DATE DATE  
, ACTIVE_CONTRIBUTING_COUNT VARCHAR2(10 BYTE) 
, ACTIVE_CONTRIBUTING_TOTAL_BALANCE NUMBER(14, 2) 
, ACTIVE_NOT_CONTRIBUTING_COUNT VARCHAR2(10 BYTE) 
, ACTIVE_NOT_CONTRIBUTE_TOTAL_AMOUNT NUMBER(14, 2) 
, CATCHUP_ELIGIBLE_COUNT VARCHAR2(10 BYTE) 
, CATCHUP_ELIGIBLE_TOTAL_AMOUNT NUMBER(14, 2) 
, CATCHUP_PARTICIPATING_COUNT VARCHAR2(10 BYTE) 
, CATCHUP_PART_TOTAL_AMOUNT NUMBER(14, 2) 
, ELIG_NOT_PART_NOT_BALANCE_COUNT VARCHAR2(10 BYTE) 
, ELIG_NOT_PART_BALANCE_COUNT VARCHAR2(10 BYTE) 
, ELIG_NOT_PART_TOTAL_AMOUNT NUMBER(14, 2) 
, INELIGIBLE_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, INELIGIBLE_WITH_BALANCE_TOTAL_AMOUNT NUMBER(14, 2) 
, OMNI_STATUS_CODE_01_COUNT VARCHAR2(10 BYTE) 
, OMNI_STATUS_CODE_01_TOTAL_AMOUNT NUMBER(14, 2) 
, OMNI_STATUS_CODE_05_COUNT VARCHAR2(10 BYTE) 
, OMNI_STATUS_CODE_05_TOTAL_BAL NUMBER(14, 2) 
, PART_WITH_BALANCE_AVERAGE_AMOUNT NUMBER(14, 2) 
, PART_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, PARTICIPANTS_WITH_BALANCE_TOTAL_AMOUNT NUMBER(14, 2) 
, SUSPENDED_NO_BALANCE_COUNT VARCHAR2(10 BYTE) 
, SUSPENDED_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, SUSPENDED_WITH_BAL_TOTAL_BAL NUMBER(14, 2) 
, TERMINATED_NO_BALANCE_COUNT VARCHAR2(10 BYTE) 
, TERMINATED_REC_INSTALL_COUNT VARCHAR2(10 BYTE) 
, TERMINATED_REC_INSTALL_TOTAL_AMOUNT NUMBER(14, 2) 
, TERMINATED_WITH_BALANCE_COUNT VARCHAR2(10 BYTE) 
, TERMINATED_WITH_BALANCE_TOTAL_AMOUNT NUMBER(14, 2) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.participant_status_trend_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_status_trend_delta TO role_newr_repos_write;

grant  SELECT on NEWR_REPOSB.PLAN to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.txn to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.PARTICIPANT_STATUS_TREND to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.TRANSACTION_TREND to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.participant to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.participant_core_balance to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.participant_core_balance_monthly to WEALTH_CENTRAL with  grant  option;



drop table NEWR_REPOSB.PARTICIPANT_BALANCE;
drop table NEWR_REPOSB.PARTICIPANT_BALANCE_delta;
drop table NEWR_REPOSB.PART_BALANCE_monthly;
drop table NEWR_REPOSB.PART_BALANCE_monthly_delta;
drop table NEWR_REPOSB.PART_BALANCE_quarterly;
drop table NEWR_REPOSB.PART_BALANCE_quarterly_delta;


-- participant_balance
CREATE TABLE NEWR_REPOSB.PARTICIPANT_BALANCE 
(
client_id	VARCHAR2(10 BYTE)	,
plan_number	VARCHAR2(25 BYTE)	,
participant_id	VARCHAR2(20 BYTE)	,
core_cash_value_amount	NUMBER(17, 2) 	,
noncore_cash_value_amount	NUMBER(17, 2) 	,
sdba_cash_value_amount	NUMBER(17, 2) 	,
loan_cash_value_amount	NUMBER(17, 2) 	,
life_cash_value_amount_monthly	NUMBER(17, 2) 	,
life_valuation_date	Date	,
ee_cash_value_amount	NUMBER(17, 2) 	,
er_cash_value_amount	NUMBER(17, 2) 	,
ytd_contributions	NUMBER(17, 2) 	,
source_cycle_date	Date,
CONSTRAINT PK_PArticipant_balance PRIMARY KEY 
(
plan_number,
participant_id,
client_id,
source_cycle_date
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA;	





--- GRANT PARTICIPANT_BALANCE
GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BALANCE TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BALANCE TO role_newr_repos_write;




-- PARTICIPANT_BALANCE_monthly
CREATE TABLE NEWR_REPOSB.PARTICIPANT_BALANCE_monthly 
(
client_id	VARCHAR2(10 BYTE)	,
plan_number	VARCHAR2(25 BYTE)	,
participant_id	VARCHAR2(20 BYTE)	,
core_cash_value_amount	NUMBER(17, 2) 	,
noncore_cash_value_amount	NUMBER(17, 2) 	,
sdba_cash_value_amount	NUMBER(17, 2) 	,
loan_cash_value_amount	NUMBER(17, 2) 	,
life_cash_value_amount_monthly	NUMBER(17, 2) 	,
life_valuation_date	Date	,
ee_cash_value_amount	NUMBER(17, 2) 	,
er_cash_value_amount	NUMBER(17, 2) 	,
ytd_contributions	NUMBER(17, 2) 	,
source_cycle_date	Date,
CONSTRAINT PK_PARTICIPANT_BALANCE_monthly PRIMARY KEY 
(
plan_number,
participant_id,
client_id,
source_cycle_date
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA;




--- GRANT PARTICIPANT_BALANCE_monthly
GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BALANCE_monthly TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BALANCE_monthly TO role_newr_repos_write;


-- PARTICIPANT_BALANCE_quarterly
CREATE TABLE NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly 
(
client_id	VARCHAR2(10 BYTE)	,
plan_number	VARCHAR2(25 BYTE)	,
participant_id	VARCHAR2(20 BYTE)	,
core_cash_value_amount	NUMBER(17, 2) 	,
noncore_cash_value_amount	NUMBER(17, 2) 	,
sdba_cash_value_amount	NUMBER(17, 2) 	,
loan_cash_value_amount	NUMBER(17, 2) 	,
life_cash_value_amount_monthly	NUMBER(17, 2) 	,
life_valuation_date	Date	,
ee_cash_value_amount	NUMBER(17, 2) 	,
er_cash_value_amount	NUMBER(17, 2) 	,
ytd_contributions	NUMBER(17, 2) 	,
source_cycle_date	Date,
CONSTRAINT PK_PARTICIPANT_BALANCE_quarterly PRIMARY KEY 
(
plan_number,
participant_id,
client_id,
source_cycle_date
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA;




--- GRANT PARTICIPANT_BALANCE_quarterly
GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly TO role_newr_repos_write;



-- participant_balance_delta
CREATE TABLE NEWR_REPOSB.PARTICIPANT_BALANCE_delta 
(
client_id	VARCHAR2(10 BYTE)	,
plan_number	VARCHAR2(25 BYTE)	,
participant_id	VARCHAR2(20 BYTE)	,
core_cash_value_amount	NUMBER(17, 2) 	,
noncore_cash_value_amount	NUMBER(17, 2) 	,
sdba_cash_value_amount	NUMBER(17, 2) 	,
loan_cash_value_amount	NUMBER(17, 2) 	,
life_cash_value_amount_monthly	NUMBER(17, 2) 	,
life_valuation_date	Date	,
ee_cash_value_amount	NUMBER(17, 2) 	,
er_cash_value_amount	NUMBER(17, 2) 	,
ytd_contributions	NUMBER(17, 2) 	,
source_cycle_date	Date,
DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA;




--- GRANT PARTICIPANT_BALANCE_delta
GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BALANCE_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BALANCE_delta TO role_newr_repos_write;




-- PARTICIPANT_BALANCE_monthly_delta
CREATE TABLE NEWR_REPOSB.PARTICIPANT_BALANCE_monthly_delta 
(
client_id	VARCHAR2(10 BYTE)	,
plan_number	VARCHAR2(25 BYTE)	,
participant_id	VARCHAR2(20 BYTE)	,
core_cash_value_amount	NUMBER(17, 2) 	,
noncore_cash_value_amount	NUMBER(17, 2) 	,
sdba_cash_value_amount	NUMBER(17, 2) 	,
loan_cash_value_amount	NUMBER(17, 2) 	,
life_cash_value_amount_monthly	NUMBER(17, 2) 	,
life_valuation_date	Date	,
ee_cash_value_amount	NUMBER(17, 2) 	,
er_cash_value_amount	NUMBER(17, 2) 	,
ytd_contributions	NUMBER(17, 2) 	,
source_cycle_date	Date,
DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA;	





--- GRANT PARTICIPANT_BALANCE_monthly_delta
GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BALANCE_monthly_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BALANCE_monthly_delta TO role_newr_repos_write;


-- PARTICIPANT_BALANCE_quarterly_delta
CREATE TABLE NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly_delta 
(
client_id	VARCHAR2(10 BYTE)	,
plan_number	VARCHAR2(25 BYTE)	,
participant_id	VARCHAR2(20 BYTE)	,
core_cash_value_amount	NUMBER(17, 2) 	,
noncore_cash_value_amount	NUMBER(17, 2) 	,
sdba_cash_value_amount	NUMBER(17, 2) 	,
loan_cash_value_amount	NUMBER(17, 2) 	,
life_cash_value_amount_monthly	NUMBER(17, 2) 	,
life_valuation_date	Date	,
ee_cash_value_amount	NUMBER(17, 2) 	,
er_cash_value_amount	NUMBER(17, 2) 	,
ytd_contributions	NUMBER(17, 2) 	,
source_cycle_date	Date,
DELTA_OP_IND VARCHAR(1)
)
TABLESPACE NEWR_REPOS_DATA;	





--- GRANT PARTICIPANT_BALANCE_quarterly_delta
GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly_delta TO role_newr_repos_write;


grant  SELECT on NEWR_REPOSB.PARTICIPANT_BALANCE_quarterly to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.PARTICIPANT_BALANCE_monthly to WEALTH_CENTRAL with  grant  option;
grant  SELECT on NEWR_REPOSB.participant_balance to WEALTH_CENTRAL with  grant  option;

drop table NEWR_REPOSB.PART_SOURCE_TRANSFER_BALANCE ;
drop table NEWR_REPOSB.PART_SOURCE_TRANSFER_BALANCE_delta ;
--part_source_transfer_balance

CREATE TABLE NEWR_REPOSB.PARTICIPANT_SOURCE_TRANSFER_BALANCE 
(
client_id VARCHAR(10) ,
plan_number VARCHAR(25) ,
participant_id VARCHAR(17) ,
transfer_balance_seq_number NUMBER(19, 0) ,
from_fund_id VARCHAR(3) ,
to_fund_id VARCHAR(3) ,
transfer_amount DECIMAL(14,2) ,
allocation_percent DECIMAL(7,4) ,
reversal_type_flag VARCHAR(1) ,
reversal_run_date DATE ,
source_cycle_date DATE ,
usage_code_1 VARCHAR(1) ,
usage_code_2 VARCHAR(1) ,
usage_code_3 VARCHAR(3) ,
usage_code_4 VARCHAR(4) ,
usage_code_5 VARCHAR(1) ,
activity_type VARCHAR(5) ,
source_month_end_date DATE ,
source_system VARCHAR(40) ,
CONSTRAINT PK_PART_SOURCE_TRANSFER_BALANCE PRIMARY KEY 
(
  CLIENT_ID 
, PARTICIPANT_ID 
, transfer_balance_seq_number 
, PLAN_NUMBER 
, SOURCE_CYCLE_DATE 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_SOURCE_TRANSFER_BALANCE_DELTA 
(
  client_id VARCHAR(10) ,
plan_number VARCHAR(25) ,
participant_id VARCHAR(17) ,
transfer_balance_seq_number NUMBER(19, 0) ,
from_fund_id VARCHAR(3) ,
to_fund_id VARCHAR(3) ,
transfer_amount DECIMAL(14,2) ,
allocation_percent DECIMAL(7,4) ,
reversal_type_flag VARCHAR(1) ,
reversal_run_date DATE ,
source_cycle_date DATE ,
usage_code_1 VARCHAR(1) ,
usage_code_2 VARCHAR(1) ,
usage_code_3 VARCHAR(3) ,
usage_code_4 VARCHAR(4) ,
usage_code_5 VARCHAR(1) ,
activity_type VARCHAR(5) ,
source_month_end_date DATE ,
source_system VARCHAR(40) ,
DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.part_source_transfer_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_source_transfer_balance TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_source_transfer_balance TO role_newr_repos_write;

-- TABLE: NEWR_REPOSB.part_source_transfer_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_source_transfer_balance_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_source_transfer_balance_DELTA TO role_newr_repos_write;


grant  SELECT on NEWR_REPOSB.participant_source_transfer_balance to WEALTH_CENTRAL with  grant  option;


drop table NEWR_REPOSB.SOURCE_FUND_FUTURE_ALLOCATION;
CREATE TABLE NEWR_REPOSB.SOURCE_FUND_FUTURE_ALLOCATION 
(
  PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(15 BYTE) NOT NULL 
, FUND_NUMBER VARCHAR2(10 BYTE) NOT NULL
, SOURCE VARCHAR2(10 BYTE) NOT NULL 
, COMPANY_CODE VARCHAR2(3 BYTE) 
, ALLOCATION_PCT NUMBER(5, 2)
, SOCIAL_SECURITY_NUMBER VARCHAR2(9 BYTE) 
, SYSTEM_CODE VARCHAR2(7 BYTE) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, PROCESS_DATE DATE, 
 CONSTRAINT PK_SOURCE_FND_FUTURE_ALLCATN PRIMARY KEY 
(
  FUND_NUMBER 
, PARTICIPANT_ID 
, SOURCE 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
; 
 

-- TABLE: NEWR_REPOSB.source_fund_future_allocation
--

GRANT SELECT ON NEWR_REPOSB.source_fund_future_allocation TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.source_fund_future_allocation TO role_newr_repos_write;

drop table NEWR_REPOSB.SOURCE_FUND_FUTURE_ALLOCATION_DELTA;
CREATE TABLE NEWR_REPOSB.SOURCE_FUND_FUTURE_ALLOCATION_DELTA 
(
  PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(15 BYTE) NOT NULL 
, FUND_NUMBER VARCHAR2(10 BYTE) NOT NULL
, SOURCE VARCHAR2(10 BYTE) NOT NULL 
, COMPANY_CODE VARCHAR2(3 BYTE) 
, ALLOCATION_PCT NUMBER(5, 2)
, SOCIAL_SECURITY_NUMBER VARCHAR2(9 BYTE) 
, SYSTEM_CODE VARCHAR2(7 BYTE) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, PROCESS_DATE DATE
, DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
; 
 

-- TABLE: NEWR_REPOSB.source_fund_future_allocation
--

GRANT SELECT ON NEWR_REPOSB.source_fund_future_allocation_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.source_fund_future_allocation_delta TO role_newr_repos_write;

grant  SELECT on NEWR_REPOSB.source_fund_future_allocation to WEALTH_CENTRAL with  grant  option;

drop table NEWR_REPOSB.PARTICIPANT_GAA_FUND_BALANCE;
CREATE TABLE NEWR_REPOSB.PARTICIPANT_GAA_FUND_BALANCE 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, FUND_NUMBER VARCHAR2(15 BYTE) 
, PLAN_END_YEAR VARCHAR2(13 BYTE)
, PM_OLTPLN_ISSUE_STATE VARCHAR2(5 BYTE)
, CURRENT_GAA_CONTRACT_AMOUNT NUMBER(17, 2) 
, ALL_CURR_GAA_ADJUSTED_AMOUNT NUMBER(17, 2) 
, ALL_CURR_GAA_ADJ_SURRENDER_AMT NUMBER(17, 2) 
, ALL_CURRENT_GAA_MVA_AMOUNT NUMBER(17, 2) 
, SURRENDER_PENALTY_AMT NUMBER(17, 2) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, SOURCE_CYCLE_DATE DATE ,
CONSTRAINT PK_PARTICIPANT_GAA_FUND_BAL PRIMARY KEY 
(
  CLIENT_ID 
, PARTICIPANT_ID 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.participant_gaa_fund_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_gaa_fund_balance TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_gaa_fund_balance TO role_newr_repos_write;

drop table NEWR_REPOSB.PARTICIPANT_GAA_FUND_BALANCE_DELTA;
CREATE TABLE NEWR_REPOSB.PARTICIPANT_GAA_FUND_BALANCE_DELTA 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, FUND_NUMBER VARCHAR2(15 BYTE) 
, PLAN_END_YEAR VARCHAR2(13 BYTE)
, PM_OLTPLN_ISSUE_STATE VARCHAR2(5 BYTE)
, CURRENT_GAA_CONTRACT_AMOUNT NUMBER(17, 2) 
, ALL_CURR_GAA_ADJUSTED_AMOUNT NUMBER(17, 2) 
, ALL_CURR_GAA_ADJ_SURRENDER_AMT NUMBER(17, 2) 
, ALL_CURRENT_GAA_MVA_AMOUNT NUMBER(17, 2) 
, SURRENDER_PENALTY_AMT NUMBER(17, 2) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, SOURCE_CYCLE_DATE DATE ,
DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
;

-- TABLE: NEWR_REPOSB.participant_gaa_fund_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_gaa_fund_balance_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_gaa_fund_balance_delta TO role_newr_repos_write;

grant  SELECT on NEWR_REPOSB.participant_gaa_fund_balance to WEALTH_CENTRAL with  grant  option;


--participant_fund_balance

drop table NEWR_REPOSB.PARTICIPANT_FUND_BALANCE; 
CREATE TABLE NEWR_REPOSB.PARTICIPANT_FUND_BALANCE 
(
plan_number VARCHAR(25) ,
participant_id VARCHAR(25) ,
fund_number VARCHAR(15) ,
fund_iv VARCHAR(10) ,
cash_value_amount DECIMAL(17,2) ,
total_units DECIMAL(17,4) ,
ee_cash_value_amount DECIMAL(17,2) ,
er_cash_value_amount DECIMAL(17,2) ,
ytd_contributions DECIMAL(17,2) ,
source_cycle_date DATE,
CONSTRAINT PK_PARTICIPANT_FUND_BALANCE PRIMARY KEY 
(
  PARTICIPANT_ID 
, PLAN_NUMBER 
, FUND_NUMBER 
, SOURCE_CYCLE_DATE 
, FUND_IV 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;




-- TABLE: NEWR_REPOSB.participant_fund_balance_DELTA
--

GRANT SELECT ON NEWR_REPOSB.participant_fund_balance TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_fund_balance TO role_newr_repos_write;

drop table NEWR_REPOSB.participant_fund_balance_DELTA;
cREATE TABLE NEWR_REPOSB.participant_fund_balance_DELTA
(
plan_number VARCHAR(25) ,
participant_id VARCHAR(25) ,
fund_number VARCHAR(15) ,
fund_iv VARCHAR(10) ,
cash_value_amount DECIMAL(17,2) ,
total_units DECIMAL(17,4) ,
ee_cash_value_amount DECIMAL(17,2) ,
er_cash_value_amount DECIMAL(17,2) ,
ytd_contributions DECIMAL(17,2) ,
source_cycle_date DATE,
DELTA_OP_IND varchar2(1)
)
TABLESPACE NEWR_REPOS_DATA
;




-- TABLE: NEWR_REPOSB.participant_fund_balance
--

GRANT SELECT ON NEWR_REPOSB.participant_fund_balance_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_fund_balance_DELTA TO role_newr_repos_write;


grant  SELECT on NEWR_REPOSB.participant_fund_balance to WEALTH_CENTRAL with  grant  option;



--participant_source

DROP TABLE NEWR_REPOSB.PARTICIPANT_SOURCE;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_SOURCE 
(
  CLIENT_ID VARCHAR2(10 BYTE) 
, PLAN_NUMBER VARCHAR2(25 BYTE)
, PARTICIPANT_ID VARCHAR2(25 BYTE) 
, MONEY_SOURCE VARCHAR2(10 BYTE) 
, MONEY_SOURCE_NAME VARCHAR2(30 BYTE) 
, FIRST_CONTRIBUTION_DATE DATE 
, FIRST_ROTH_CONTRIBUTION_DATE DATE 
, ELECTED_CONTRIBUTION_AMOUNT NUMBER(13, 2) 
, ELECTED_CONTRIBUTION_PERCENT NUMBER(13, 2) 
, FUTURE_CATCHUP_DEF_PCT NUMBER(9, 6) 
, NEXT_SCHEDULED_INCREASE_DATE DATE 
, ONE_TIME_DEFERRAL_PERCENT NUMBER(9, 6) 
, PRIOR_DEFERRAL_AMOUNT NUMBER(13, 2) 
, PRIOR_DEFERRAL_RATE NUMBER(13, 2) 
, EE_DEFERRAL_RATE_ELECT NUMBER(9, 6) 
, RATE_ESCALATOR_CREATION_DATE DATE 
, RATE_ESCALATOR_DOLLAR_AMOUNT NUMBER(7, 2) 
, SUPPLEMENTAL_DEFERRAL_DOLLAR_PRIOR NUMBER(13, 2) 
, RATE_ESCALATOR_FREQUENCY VARCHAR2(1 BYTE) 
, RATE_ESCALATOR_INC_PERCENT NUMBER(7, 2) 
, RATE_ESCALATOR_MAX_PERCENT NUMBER(7, 2) 
, SOURCE_ADJ_VEST_PERCENT NUMBER(6, 3) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, ACTUAL_CONTRIBUTION_AMOUNT NUMBER(13, 2) 
, ACTUAL_CONTRIBUTION_PERCENT NUMBER(13, 2) 
, ACTUAL_DEFERRAL_AMOUNT NUMBER(11, 2) 
, CATCHUP_DEFERRAL_AMOUNT NUMBER(11, 2) 
, CATCHUP_FUTURE_DEFERRAL_AMOUNT NUMBER(11, 2) 
, DEFERRAL_DOLLAR_AMOUNT_ELECTED NUMBER(11, 2) 
, DEFERRAL_SELECTION VARCHAR2(1 BYTE) 
, EE_CATCHUP_DEFERRAL_PERCENT NUMBER(9, 6) 
, DEFERRAL_RATE_ACTUAL VARCHAR2(20 BYTE) ,
CONSTRAINT PK_PARTICIPANT_SOURCE PRIMARY KEY 
(
  CLIENT_ID 
, PARTICIPANT_ID 
, PLAN_NUMBER 
, MONEY_SOURCE 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_SOURCE TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_SOURCE TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PARTICIPANT_SOURCE TO WEALTH_CENTRAL WITH  GRANT  OPTION;

--

--
DROP TABLE NEWR_REPOSB.PARTICIPANT_SOURCE_DELTA;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_SOURCE_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE) 
, PLAN_NUMBER VARCHAR2(25 BYTE)
, PARTICIPANT_ID VARCHAR2(25 BYTE) 
, MONEY_SOURCE VARCHAR2(10 BYTE) 
, MONEY_SOURCE_NAME VARCHAR2(30 BYTE) 
, FIRST_CONTRIBUTION_DATE DATE 
, FIRST_ROTH_CONTRIBUTION_DATE DATE 
, ELECTED_CONTRIBUTION_AMOUNT NUMBER(13, 2) 
, ELECTED_CONTRIBUTION_PERCENT NUMBER(13, 2) 
, FUTURE_CATCHUP_DEF_PCT NUMBER(9, 6) 
, NEXT_SCHEDULED_INCREASE_DATE DATE 
, ONE_TIME_DEFERRAL_PERCENT NUMBER(9, 6) 
, PRIOR_DEFERRAL_AMOUNT NUMBER(13, 2) 
, PRIOR_DEFERRAL_RATE NUMBER(13, 2) 
, EE_DEFERRAL_RATE_ELECT NUMBER(9, 6) 
, RATE_ESCALATOR_CREATION_DATE DATE 
, RATE_ESCALATOR_DOLLAR_AMOUNT NUMBER(7, 2) 
, SUPPLEMENTAL_DEFERRAL_DOLLAR_PRIOR NUMBER(13, 2) 
, RATE_ESCALATOR_FREQUENCY VARCHAR2(1 BYTE) 
, RATE_ESCALATOR_INC_PERCENT NUMBER(7, 2) 
, RATE_ESCALATOR_MAX_PERCENT NUMBER(7, 2) 
, SOURCE_ADJ_VEST_PERCENT NUMBER(6, 3) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, ACTUAL_CONTRIBUTION_AMOUNT NUMBER(13, 2) 
, ACTUAL_CONTRIBUTION_PERCENT NUMBER(13, 2) 
, ACTUAL_DEFERRAL_AMOUNT NUMBER(11, 2) 
, CATCHUP_DEFERRAL_AMOUNT NUMBER(11, 2) 
, CATCHUP_FUTURE_DEFERRAL_AMOUNT NUMBER(11, 2) 
, DEFERRAL_DOLLAR_AMOUNT_ELECTED NUMBER(11, 2) 
, DEFERRAL_SELECTION VARCHAR2(1 BYTE) 
, EE_CATCHUP_DEFERRAL_PERCENT NUMBER(9, 6) 
, DEFERRAL_RATE_ACTUAL VARCHAR2(20 BYTE)
, DELTA_OP_IND VARCHAR2(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_SOURCE_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_SOURCE_DELTA TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PARTICIPANT_SOURCE_DELTA TO WEALTH_CENTRAL WITH  GRANT  OPTION;



--plan_fund

DROP TABLE NEWR_REPOSB.PLAN_FUND;

CREATE TABLE NEWR_REPOSB.PLAN_FUND 
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)    
, DIV_SUB_ID VARCHAR2(10 BYTE) 
, FUND_IV VARCHAR2(10 BYTE) 
, FUND_NUMBER VARCHAR2(15 BYTE) 
, FUND_NAME VARCHAR2(100 BYTE) 
, FUND_ABBR_NAME VARCHAR2(8 BYTE)
, SHARES VARCHAR2(1 BYTE) 
, SHARE_PRICE NUMBER(11, 6)
, TICKER_SYMBOL VARCHAR2(15 BYTE)
, FUND_FAMILY_ABBR_NAME VARCHAR2(8 BYTE)
, FUND_SEPARATE_ACCOUNT VARCHAR2(30 BYTE) 
, ASSET_CODE VARCHAR2(50 BYTE) 
, ASSET_NAME VARCHAR2(35 BYTE) 
, ASSET_CLASS_DESC CLOB 
, FUND_INCEPTION_DATE DATE 
, FUND_INCEPTION_INDICATOR VARCHAR2(10 BYTE) 
, FIXED_FUND_INDICATOR VARCHAR2(10 BYTE) 
, FIXED_TYP VARCHAR2(10 BYTE) 
, STMT_ASSET_CLASS VARCHAR2(8 BYTE) 
, ACC_FUND_INDICATOR VARCHAR2(10 BYTE) 
, STK_INDICATOR VARCHAR2(10 BYTE) 
, ACCOUNTING_METHOD_INDICATOR VARCHAR2(10 BYTE) 
, STABI_FUND_INVEST_CONTRACT_NUM VARCHAR2(12 BYTE)  
, ADM_FEE_D_FCT NUMBER(13, 4) 
, ADM_FEE_RATE NUMBER(13, 4) 
, ADM_FUND_NUM VARCHAR2(10 BYTE) 
, ADVR_FEE_D_FCT NUMBER(13, 4) 
, AUTO_ENROLL_INDICATOR VARCHAR2(10 BYTE) 
, AUTO_ENROLL_DATE DATE 
, DIV_PAYFREQ_CD VARCHAR2(10 BYTE) 
, DIVIDEND_PASS_THRU_OPTION VARCHAR2(10 BYTE) 
, DIVIDEND_RATE NUMBER(13, 10) 
, DIVIDEND_RECORD_DATE DATE  
, DIVIDEND_REINVEST_DATE DATE 
, DEFAULT_DEFERRAL_AMOUNT NUMBER(11, 6) 
, DEFAULT_DEFERRAL_PERCENT NUMBER(11, 6) 
, DEFAULT_INVEST_ELECTION_PCT NUMBER(11, 6) 
, FUND_INDEX_ID VARCHAR2(10 BYTE) 
, FUND_PERF_INDICATOR VARCHAR2(10 BYTE)
, FUND_RISK_RTN NUMBER(19, 0) 
, GROUP_FUND_INDICATOR VARCHAR2(10 BYTE) 
, INVST_STYLE VARCHAR2(30 BYTE) 
, INVESTMENT_MANAGER_ID VARCHAR2(20 BYTE) 
, INVESTMENT_ASSET_TYPE VARCHAR2(10 BYTE) 
, INVESTMENT_TYPE VARCHAR2(20 BYTE) 
, INVESTMENT_NAME_LONG_VERSION VARCHAR2(100 BYTE) 
, MID_FUND_NAME VARCHAR2(255 BYTE) 
, MKTG_FUND_NUMBER VARCHAR2(10 BYTE) 
, OUTSD_FUND_NUM VARCHAR2(10 BYTE)  
, PRICE_ID VARCHAR2(15 BYTE) 
, M_D_DIV_AMT_HI NUMBER(13, 4) 
, M_D_DIV_AMT_LO NUMBER(13, 4) 
, M_D_DIV_DAY VARCHAR2(10 BYTE) 
, S_D_DIV_AMT_HI NUMBER(13, 4) 
, S_D_DIV_AMT_LO NUMBER(13, 4) 
, SADV_FEE_D_FCT NUMBER(13, 4) 
, SADV_FEE_RATE NUMBER(13, 4) 
, SHARE_PRICE_INDICATOR VARCHAR2(10 BYTE) 
, TRUST_NUMBER VARCHAR2(6 BYTE) 
, TRD_INST_FFAM VARCHAR2(40 BYTE)
, SINGLE_SHARE_VALUE NUMBER(11, 6) 
, FRACTIONAL_SHARE_IND NUMBER(38, 0)
, EQUIVALENT_SHARES_FACTOR VARCHAR2(10 BYTE) 
, ADVR_FEE_RATE NUMBER(13, 4) 
, FUND_ADJ_PRICE_INDICATOR VARCHAR2(10 BYTE) 
, FUND_AET_SER_P_INDICATOR VARCHAR2(10 BYTE) 
, FUND_AVAIL_PROD DATE 
, PROPORTIONAL_PERCENTAGE NUMBER(3, 2)
, PRT_FEE_FCT NUMBER(13, 4) 
, PRT_FEE_RATE NUMBER(13, 4) 
, QUALIFIED_STOCK_FUND_INDICATOR VARCHAR2(10 BYTE) 
, YB04_D_FCT NUMBER(13, 4) 
, YB04_RATE NUMBER(5, 2) 
, AUV_MOVE_DATE DATE 
, AT_FILE_IND VARCHAR2(254 BYTE) 
, EXPED_INDICATOR VARCHAR2(10 BYTE)
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, FUND_ID VARCHAR2(10 BYTE) ,
CONSTRAINT PK_PLAN_FUND PRIMARY KEY 
(
  CLIENT_ID 
, FUND_NUMBER 
, PLAN_NUMBER 
, FUND_IV 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.PLAN_FUND TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PLAN_FUND TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PLAN_FUND TO WEALTH_CENTRAL WITH GRANT OPTION;


--
DROP TABLE NEWR_REPOSB.PLAN_FUND_DELTA;

CREATE TABLE NEWR_REPOSB.PLAN_FUND_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)    
, DIV_SUB_ID VARCHAR2(10 BYTE) 
, FUND_IV VARCHAR2(10 BYTE) 
, FUND_NUMBER VARCHAR2(15 BYTE) 
, FUND_NAME VARCHAR2(100 BYTE) 
, FUND_ABBR_NAME VARCHAR2(8 BYTE)
, SHARES VARCHAR2(1 BYTE) 
, SHARE_PRICE NUMBER(11, 6)
, TICKER_SYMBOL VARCHAR2(15 BYTE)
, FUND_FAMILY_ABBR_NAME VARCHAR2(8 BYTE)
, FUND_SEPARATE_ACCOUNT VARCHAR2(30 BYTE) 
, ASSET_CODE VARCHAR2(50 BYTE) 
, ASSET_NAME VARCHAR2(35 BYTE) 
, ASSET_CLASS_DESC CLOB 
, FUND_INCEPTION_DATE DATE 
, FUND_INCEPTION_INDICATOR VARCHAR2(10 BYTE) 
, FIXED_FUND_INDICATOR VARCHAR2(10 BYTE) 
, FIXED_TYP VARCHAR2(10 BYTE) 
, STMT_ASSET_CLASS VARCHAR2(8 BYTE) 
, ACC_FUND_INDICATOR VARCHAR2(10 BYTE) 
, STK_INDICATOR VARCHAR2(10 BYTE) 
, ACCOUNTING_METHOD_INDICATOR VARCHAR2(10 BYTE) 
, STABI_FUND_INVEST_CONTRACT_NUM VARCHAR2(12 BYTE)  
, ADM_FEE_D_FCT NUMBER(13, 4) 
, ADM_FEE_RATE NUMBER(13, 4) 
, ADM_FUND_NUM VARCHAR2(10 BYTE) 
, ADVR_FEE_D_FCT NUMBER(13, 4) 
, AUTO_ENROLL_INDICATOR VARCHAR2(10 BYTE) 
, AUTO_ENROLL_DATE DATE 
, DIV_PAYFREQ_CD VARCHAR2(10 BYTE) 
, DIVIDEND_PASS_THRU_OPTION VARCHAR2(10 BYTE) 
, DIVIDEND_RATE NUMBER(13, 10) 
, DIVIDEND_RECORD_DATE DATE  
, DIVIDEND_REINVEST_DATE DATE 
, DEFAULT_DEFERRAL_AMOUNT NUMBER(11, 6) 
, DEFAULT_DEFERRAL_PERCENT NUMBER(11, 6) 
, DEFAULT_INVEST_ELECTION_PCT NUMBER(11, 6) 
, FUND_INDEX_ID VARCHAR2(10 BYTE) 
, FUND_PERF_INDICATOR VARCHAR2(10 BYTE)
, FUND_RISK_RTN NUMBER(19, 0) 
, GROUP_FUND_INDICATOR VARCHAR2(10 BYTE) 
, INVST_STYLE VARCHAR2(30 BYTE) 
, INVESTMENT_MANAGER_ID VARCHAR2(20 BYTE) 
, INVESTMENT_ASSET_TYPE VARCHAR2(10 BYTE) 
, INVESTMENT_TYPE VARCHAR2(20 BYTE) 
, INVESTMENT_NAME_LONG_VERSION VARCHAR2(100 BYTE) 
, MID_FUND_NAME VARCHAR2(255 BYTE) 
, MKTG_FUND_NUMBER VARCHAR2(10 BYTE) 
, OUTSD_FUND_NUM VARCHAR2(10 BYTE)  
, PRICE_ID VARCHAR2(15 BYTE) 
, M_D_DIV_AMT_HI NUMBER(13, 4) 
, M_D_DIV_AMT_LO NUMBER(13, 4) 
, M_D_DIV_DAY VARCHAR2(10 BYTE) 
, S_D_DIV_AMT_HI NUMBER(13, 4) 
, S_D_DIV_AMT_LO NUMBER(13, 4) 
, SADV_FEE_D_FCT NUMBER(13, 4) 
, SADV_FEE_RATE NUMBER(13, 4) 
, SHARE_PRICE_INDICATOR VARCHAR2(10 BYTE) 
, TRUST_NUMBER VARCHAR2(6 BYTE) 
, TRD_INST_FFAM VARCHAR2(40 BYTE)
, SINGLE_SHARE_VALUE NUMBER(11, 6) 
, FRACTIONAL_SHARE_IND NUMBER(38, 0)
, EQUIVALENT_SHARES_FACTOR VARCHAR2(10 BYTE) 
, ADVR_FEE_RATE NUMBER(13, 4) 
, FUND_ADJ_PRICE_INDICATOR VARCHAR2(10 BYTE) 
, FUND_AET_SER_P_INDICATOR VARCHAR2(10 BYTE) 
, FUND_AVAIL_PROD DATE 
, PROPORTIONAL_PERCENTAGE NUMBER(3, 2)
, PRT_FEE_FCT NUMBER(13, 4) 
, PRT_FEE_RATE NUMBER(13, 4) 
, QUALIFIED_STOCK_FUND_INDICATOR VARCHAR2(10 BYTE) 
, YB04_D_FCT NUMBER(13, 4) 
, YB04_RATE NUMBER(5, 2) 
, AUV_MOVE_DATE DATE 
, AT_FILE_IND VARCHAR2(254 BYTE) 
, EXPED_INDICATOR VARCHAR2(10 BYTE)
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, FUND_ID VARCHAR2(10 BYTE) 
, DELTA_OP_IND VARCHAR2(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.PLAN_FUND_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PLAN_FUND_DELTA TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PLAN_FUND_DELTA TO WEALTH_CENTRAL WITH GRANT OPTION;



--plan_source
DROP TABLE NEWR_REPOSB.PLAN_SOURCE;

CREATE TABLE NEWR_REPOSB.PLAN_SOURCE 
(
  CLIENT_ID VARCHAR2(10 BYTE) 
, PLAN_NUMBER VARCHAR2(25 BYTE) 
, MONEY_SOURCE VARCHAR2(20 BYTE) 
, MONEY_SOURCE_NAME_LONG VARCHAR2(100 BYTE) 
, ROTH_DEFERRAL_SOURCE_INDICATOR VARCHAR2(1 BYTE) 
, VESTING_METHOD VARCHAR2(50 BYTE) 
, VESTING_SCHEDULE VARCHAR2(50 BYTE) 
, VESTING_SCHEDULE_LABEL VARCHAR2(50 BYTE) 
, VESTING_SCHEDULE_PERCENT VARCHAR2(20 BYTE) 
, VESTING_SCHEDULE_PERIOD VARCHAR2(50 BYTE) 
, MONEY_TYPE_CODE VARCHAR2(2 BYTE) 
, MONEY_TYPE_NAME VARCHAR2(10 BYTE) 
, SOURCE_SYSTEM VARCHAR2(100 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE ,
CONSTRAINT PK_PLAN_SOURCE PRIMARY KEY 
(
  CLIENT_ID 
, MONEY_SOURCE 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.PLAN_SOURCE TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PLAN_SOURCE TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PLAN_SOURCE TO WEALTH_CENTRAL WITH GRANT OPTION;



--
DROP TABLE NEWR_REPOSB.PLAN_SOURCE_DELTA;

CREATE TABLE NEWR_REPOSB.PLAN_SOURCE_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE) 
, PLAN_NUMBER VARCHAR2(25 BYTE) 
, MONEY_SOURCE VARCHAR2(20 BYTE) 
, MONEY_SOURCE_NAME_LONG VARCHAR2(100 BYTE) 
, ROTH_DEFERRAL_SOURCE_INDICATOR VARCHAR2(1 BYTE) 
, VESTING_METHOD VARCHAR2(50 BYTE) 
, VESTING_SCHEDULE VARCHAR2(50 BYTE) 
, VESTING_SCHEDULE_LABEL VARCHAR2(50 BYTE) 
, VESTING_SCHEDULE_PERCENT VARCHAR2(20 BYTE) 
, VESTING_SCHEDULE_PERIOD VARCHAR2(50 BYTE) 
, MONEY_TYPE_CODE VARCHAR2(2 BYTE) 
, MONEY_TYPE_NAME VARCHAR2(10 BYTE) 
, SOURCE_SYSTEM VARCHAR2(100 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, DELTA_OP_IND VARCHAR2( 1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.PLAN_SOURCE_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PLAN_SOURCE_DELTA TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PLAN_SOURCE_DELTA TO WEALTH_CENTRAL WITH GRANT OPTION;



--plan_withdrawal_type

DROP TABLE NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE;

CREATE TABLE NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE 
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, WITHDRAWAL_TYPE VARCHAR2(254 BYTE)
, WITHDRAWAL_CODE VARCHAR2(254 BYTE)
, WITHDRAWAL_DESCRIPTION VARCHAR2(254 BYTE) 
, DISTRIBUTION_FEE NUMBER(11, 4) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE, 
CONSTRAINT PK_PLAN_WITHDRAWAL_TYPE PRIMARY KEY 
(
  CLIENT_ID 
, PLAN_NUMBER 
, WITHDRAWAL_CODE 
, WITHDRAWAL_TYPE 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE TO WEALTH_CENTRAL WITH GRANT OPTION;





--

DROP TABLE NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE_DELTA;

CREATE TABLE NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, WITHDRAWAL_TYPE VARCHAR2(254 BYTE)
, WITHDRAWAL_CODE VARCHAR2(254 BYTE)
, WITHDRAWAL_DESCRIPTION VARCHAR2(254 BYTE) 
, DISTRIBUTION_FEE NUMBER(11, 4) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE
, DELTA_OP_IND VARCHAR2(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE_DELTA TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PLAN_WITHDRAWAL_TYPE_DELTA TO WEALTH_CENTRAL WITH GRANT OPTION;



--participant_beneficiary

DROP TABLE NEWR_REPOSB.PARTICIPANT_BENEFICIARY;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_BENEFICIARY 
(
 CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, PARTICIPANT_ID VARCHAR2(25 BYTE)
, BENEFICIARY_TIN VARCHAR2(20 BYTE)
, BENEFICIARY_TYPE VARCHAR2(10 BYTE)
, BENEFICIARY_NAME VARCHAR2(255 BYTE) 
, BENEFICIARY_STATUS VARCHAR2(50 BYTE) 
, RELATIONSHIP_ID VARCHAR2(10 BYTE) 
, RELATIONSHIP_NAME VARCHAR2(255 BYTE) 
, ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, CITY VARCHAR2(40 BYTE) 
, STATE VARCHAR2(100 BYTE) 
, ZIP_CODE VARCHAR2(50 BYTE) 
, PARTICIPANT_BENEFICIARY VARCHAR2(50 BYTE) 
, BENEFICIARY_LEVEL VARCHAR2(50 BYTE) 
, BENEFICIARY_PERCENT_TYPE VARCHAR2(50 BYTE) 
, BENEFICIARY_CATEGORY VARCHAR2(50 BYTE) 
, BENEFICIARY_ALLOCATION_PERCENT NUMBER(5, 2) 
, BENEFICIARY_LAST_CHANGE_DATE DATE 
, BIRTH_DATE DATE 
, GENDER VARCHAR2(50 BYTE) 
, FOREIGN_ADDRESS_INDICATOR VARCHAR2(50 BYTE) 
, PRIMARY_CONTINGENT_INDICATOR VARCHAR2(50 BYTE) 
, ORIGIN_CHANGED VARCHAR2(10 BYTE) 
, SIGNED_DATE DATE 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, BENEFICIARY_SEQUENCE_NUMBER NUMBER(38, 0) ,
CONSTRAINT PK_PARTICIPANT_BENEFICIARY PRIMARY KEY 
(
  BENEFICIARY_TIN 
, CLIENT_ID 
, PARTICIPANT_ID 
, PLAN_NUMBER 
, BENEFICIARY_TYPE 
, BENEFICIARY_SEQUENCE_NUMBER
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY TO WEALTH_CENTRAL WITH GRANT OPTION;




--
DROP TABLE NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA
(
 CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, PARTICIPANT_ID VARCHAR2(25 BYTE)
, BENEFICIARY_TIN VARCHAR2(20 BYTE)
, BENEFICIARY_TYPE VARCHAR2(10 BYTE)
, BENEFICIARY_NAME VARCHAR2(255 BYTE) 
, BENEFICIARY_STATUS VARCHAR2(50 BYTE) 
, RELATIONSHIP_ID VARCHAR2(10 BYTE) 
, RELATIONSHIP_NAME VARCHAR2(255 BYTE) 
, ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, CITY VARCHAR2(40 BYTE) 
, STATE VARCHAR2(100 BYTE) 
, ZIP_CODE VARCHAR2(50 BYTE) 
, PARTICIPANT_BENEFICIARY VARCHAR2(50 BYTE) 
, BENEFICIARY_LEVEL VARCHAR2(50 BYTE) 
, BENEFICIARY_PERCENT_TYPE VARCHAR2(50 BYTE) 
, BENEFICIARY_CATEGORY VARCHAR2(50 BYTE) 
, BENEFICIARY_ALLOCATION_PERCENT NUMBER(5, 2) 
, BENEFICIARY_LAST_CHANGE_DATE DATE 
, BIRTH_DATE DATE 
, GENDER VARCHAR2(50 BYTE) 
, FOREIGN_ADDRESS_INDICATOR VARCHAR2(50 BYTE) 
, PRIMARY_CONTINGENT_INDICATOR VARCHAR2(50 BYTE) 
, ORIGIN_CHANGED VARCHAR2(10 BYTE) 
, SIGNED_DATE DATE 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, BENEFICIARY_SEQUENCE_NUMBER NUMBER(38, 0)
, DELTA_OP_IND VARCHAR2(1)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA TO WEALTH_CENTRAL WITH GRANT OPTION;


--
DROP TABLE NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA;

CREATE TABLE NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA 
(
 CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, PARTICIPANT_ID VARCHAR2(25 BYTE)
, BENEFICIARY_TIN VARCHAR2(20 BYTE)
, BENEFICIARY_TYPE VARCHAR2(10 BYTE)
, BENEFICIARY_NAME VARCHAR2(255 BYTE) 
, BENEFICIARY_STATUS VARCHAR2(50 BYTE) 
, RELATIONSHIP_ID VARCHAR2(10 BYTE) 
, RELATIONSHIP_NAME VARCHAR2(255 BYTE) 
, ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, CITY VARCHAR2(40 BYTE) 
, STATE VARCHAR2(100 BYTE) 
, ZIP_CODE VARCHAR2(50 BYTE) 
, PARTICIPANT_BENEFICIARY VARCHAR2(50 BYTE) 
, BENEFICIARY_LEVEL VARCHAR2(50 BYTE) 
, BENEFICIARY_PERCENT_TYPE VARCHAR2(50 BYTE) 
, BENEFICIARY_CATEGORY VARCHAR2(50 BYTE) 
, BENEFICIARY_ALLOCATION_PERCENT NUMBER(5, 2) 
, BENEFICIARY_LAST_CHANGE_DATE DATE 
, BIRTH_DATE DATE 
, GENDER VARCHAR2(50 BYTE) 
, FOREIGN_ADDRESS_INDICATOR VARCHAR2(50 BYTE) 
, PRIMARY_CONTINGENT_INDICATOR VARCHAR2(50 BYTE) 
, ORIGIN_CHANGED VARCHAR2(10 BYTE) 
, SIGNED_DATE DATE 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, BENEFICIARY_SEQUENCE_NUMBER NUMBER(38, 0) 
, DELTA_OP_IND VARCHAR2(1)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.PARTICIPANT_BENEFICIARY_DELTA TO WEALTH_CENTRAL WITH GRANT OPTION;



--- TPA
Drop table NEWR_REPOSB.plan_tpa;
CREATE TABLE NEWR_REPOSB.THIRD_PARTY_ADMIN 
(
  TPA_CODE VARCHAR2(80 BYTE) NOT NULL 
, TPA_ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, PLAN_TPA_FULL_NAME VARCHAR2(255 BYTE) 
, TPA_ZIP_CODE VARCHAR2(80 BYTE) 
, TPA_PHONE VARCHAR2(32 BYTE) 
, TPA_FAX VARCHAR2(32 BYTE) 
, TPA_TIN VARCHAR2(10 BYTE) 
, TPA_ADDRESS_LINE_2 VARCHAR2(255 BYTE) 
, TPA_ADDRESS_CITY VARCHAR2(80 BYTE) 
, TPA_ADDRESS_STATE VARCHAR2(20 BYTE) 
, DS_TPA_ADDRESS VARCHAR2(255 BYTE) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, TRANSFORM_HASH_KEY NUMBER(38, 0) ,

CONSTRAINT PK_THIRD_PARTY_ADMIN PRIMARY KEY 
(
  TPA_CODE 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.third_party_admin TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.third_party_admin TO role_newr_repos_write;



-- THIRD_PARTY_ADMIN_DELTA
drop table NEWR_REPOSB.plan_tpa_delta;
CREATE TABLE NEWR_REPOSB.THIRD_PARTY_ADMIN_DELTA 
(
  TPA_CODE VARCHAR2(80 BYTE) NOT NULL 
, TPA_ADDRESS_LINE_1 VARCHAR2(255 BYTE) 
, PLAN_TPA_FULL_NAME VARCHAR2(255 BYTE) 
, TPA_ZIP_CODE VARCHAR2(80 BYTE) 
, TPA_PHONE VARCHAR2(32 BYTE) 
, TPA_FAX VARCHAR2(32 BYTE) 
, TPA_TIN VARCHAR2(10 BYTE) 
, TPA_ADDRESS_LINE_2 VARCHAR2(255 BYTE) 
, TPA_ADDRESS_CITY VARCHAR2(80 BYTE) 
, TPA_ADDRESS_STATE VARCHAR2(20 BYTE) 
, DS_TPA_ADDRESS VARCHAR2(255 BYTE) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, TRANSFORM_HASH_KEY NUMBER(38, 0) 
, DELTA_OP_IND VARCHAR(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.third_party_admin_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.third_party_admin_delta TO role_newr_repos_write;

GRANT  SELECT ON NEWR_REPOSB.third_party_admin TO WEALTH_CENTRAL WITH GRANT OPTION;



drop table NEWR_REPOSB.PLAN_TRANSACTION_TREND;
CREATE TABLE NEWR_REPOSB.PLAN_TRANSACTION_TREND 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, SOURCE_CYCLE_DATE DATE NOT NULL 
, TOTAL_ENROLLMENTS NUMBER(19, 0) 
, TOT_EE_AFTERTAX_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_EE_BEFORETAX_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_EMPLOYER_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_ROLLOVER_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_TERM_DISTRIB_NO_ROLL_AMT NUMBER(14, 2) 
, TOT_TERM_DISTRIB_NO_ROLL_COUNT NUMBER(19, 0) 
, TOT_TERM_DISTRIB_ROLL_COUNT NUMBER(19, 0) 
, TOT_TERM_DISTRIB_ROLL_NOT_ROLL NUMBER(14, 2) 
, TOT_TERM_DISTRIB_ROLL_ROLLED NUMBER(14, 2) 
, TOT_INSRVC_WITHD_NO_ROLL_AMT NUMBER(14, 2) 
, TOT_INSRVC_WITHD_NO_ROLL_COUNT NUMBER(19, 0) 
, TOT_INSRVC_WITHD_WITH_ROLL_CNT NUMBER(19, 0) 
, TOT_HARDSHIP_WITHDRAWAL_AMOUNT NUMBER(14, 2) 
, TOT_HARDSHIP_WITHDRAWAL_COUNT NUMBER(19, 0) 
, TOT_INSTALL_DISTRIB_ACH_AMT NUMBER(14, 2) 
, TOT_INSTALL_DISTRIB_ACH_COUNT NUMBER(19, 0) 
, TOT_INSTALL_DISTRIB_CHECK_AMT NUMBER(14, 2) 
, TOT_INSTALL_DISTRIB_CHECK_CNT NUMBER(19, 0) 
, TOTAL_INSTALLMENTS_SETUP_COUNT NUMBER(19, 0)  
, TOT_DEF_ROLL_DISTRIB_AMT NUMBER(14, 2) 
, TOT_DEF_ROLL_DISTRIB_COUNT NUMBER(19, 0) 
, TOT_DEMINIMUS_DISTRIB_AMOUNT NUMBER(14, 2)
, TOT_DEMINIMUS_DISTRIB_COUNT NUMBER(19, 0) 
, TOT_LOAN_DEF_DEEMD_DISTRIB_CNT NUMBER(19, 0)  
, TOTAL_LOAN_ISSUE_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_ISSUE_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_PAYOFF_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_REAMORTIZED_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_REPAYMENTS_COUNT NUMBER(19, 0) 
, TOT_DIVIDEND_PASS_THRU_AMOUNT NUMBER(14, 2) 
, TOT_DIVIDEND_PASS_THRU_COUNT NUMBER(19, 0) 
, TOT_DIVIDEND_REINVEST_AMOUNT NUMBER(14, 2) 
, TOT_DIVIDEND_REINVEST_COUNT NUMBER(19, 0) 
, TOT_REBAL_XFER_COUNT NUMBER(19, 0) 
, TOTAL_FEE_DEDUCTIONS_COUNT NUMBER(19, 0) 
, TOTAL_QDRO_SPLITS_COUNT NUMBER(19, 0)  
, TOTAL_BENEFICIARY_SPLITS_COUNT NUMBER(19, 0)
, TOTAL_RMD_AMOUNT NUMBER(14, 2) 
, TOTAL_RMD_COUNT NUMBER(19, 0) 
, TOT_WITHD_ROLL_NOT_ROLLED_AMT NUMBER(14, 2) 
, TOT_WITHD_ROLL_ROLLED_AMT NUMBER(14, 2)
, SOURCE_SYSTEM VARCHAR2(50 BYTE) ,

CONSTRAINT PK_PLAN_TRANSACTION_TREND PRIMARY KEY 
(
  CLIENT_ID 
, PLAN_NUMBER 
, SOURCE_CYCLE_DATE 
)

USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.plan_transaction_trend TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.plan_transaction_trend TO role_newr_repos_write;




--PLAN_TRANSACTION_TREND_DELTA
drop table NEWR_REPOSB.PLAN_TRANSACTION_TREND_DELTA;
CREATE TABLE NEWR_REPOSB.PLAN_TRANSACTION_TREND_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, SOURCE_CYCLE_DATE DATE
, TOTAL_ENROLLMENTS NUMBER(19, 0) 
, TOT_EE_AFTERTAX_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_EE_BEFORETAX_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_EMPLOYER_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_ROLLOVER_CONTRIB_COUNT NUMBER(19, 0) 
, TOT_TERM_DISTRIB_NO_ROLL_AMT NUMBER(14, 2) 
, TOT_TERM_DISTRIB_NO_ROLL_COUNT NUMBER(19, 0) 
, TOT_TERM_DISTRIB_ROLL_COUNT NUMBER(19, 0) 
, TOT_TERM_DISTRIB_ROLL_NOT_ROLL NUMBER(14, 2) 
, TOT_TERM_DISTRIB_ROLL_ROLLED NUMBER(14, 2) 
, TOT_INSRVC_WITHD_NO_ROLL_AMT NUMBER(14, 2) 
, TOT_INSRVC_WITHD_NO_ROLL_COUNT NUMBER(19, 0) 
, TOT_INSRVC_WITHD_WITH_ROLL_CNT NUMBER(19, 0) 
, TOT_HARDSHIP_WITHDRAWAL_AMOUNT NUMBER(14, 2) 
, TOT_HARDSHIP_WITHDRAWAL_COUNT NUMBER(19, 0) 
, TOT_INSTALL_DISTRIB_ACH_AMT NUMBER(14, 2) 
, TOT_INSTALL_DISTRIB_ACH_COUNT NUMBER(19, 0) 
, TOT_INSTALL_DISTRIB_CHECK_AMT NUMBER(14, 2) 
, TOT_INSTALL_DISTRIB_CHECK_CNT NUMBER(19, 0) 
, TOTAL_INSTALLMENTS_SETUP_COUNT NUMBER(19, 0)  
, TOT_DEF_ROLL_DISTRIB_AMT NUMBER(14, 2) 
, TOT_DEF_ROLL_DISTRIB_COUNT NUMBER(19, 0) 
, TOT_DEMINIMUS_DISTRIB_AMOUNT NUMBER(14, 2)
, TOT_DEMINIMUS_DISTRIB_COUNT NUMBER(19, 0) 
, TOT_LOAN_DEF_DEEMD_DISTRIB_CNT NUMBER(19, 0)  
, TOTAL_LOAN_ISSUE_AMOUNT NUMBER(14, 2) 
, TOTAL_LOAN_ISSUE_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_PAYOFF_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_REAMORTIZED_COUNT NUMBER(19, 0) 
, TOTAL_LOAN_REPAYMENTS_COUNT NUMBER(19, 0) 
, TOT_DIVIDEND_PASS_THRU_AMOUNT NUMBER(14, 2) 
, TOT_DIVIDEND_PASS_THRU_COUNT NUMBER(19, 0) 
, TOT_DIVIDEND_REINVEST_AMOUNT NUMBER(14, 2) 
, TOT_DIVIDEND_REINVEST_COUNT NUMBER(19, 0) 
, TOT_REBAL_XFER_COUNT NUMBER(19, 0) 
, TOTAL_FEE_DEDUCTIONS_COUNT NUMBER(19, 0) 
, TOTAL_QDRO_SPLITS_COUNT NUMBER(19, 0)  
, TOTAL_BENEFICIARY_SPLITS_COUNT NUMBER(19, 0)
, TOTAL_RMD_AMOUNT NUMBER(14, 2) 
, TOTAL_RMD_COUNT NUMBER(19, 0) 
, TOT_WITHD_ROLL_NOT_ROLLED_AMT NUMBER(14, 2) 
, TOT_WITHD_ROLL_ROLLED_AMT NUMBER(14, 2)
, SOURCE_SYSTEM VARCHAR2(50 BYTE) 
, DELTA_OP_IND VARCHAR(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.plan_transaction_trend_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.plan_transaction_trend_delta TO role_newr_repos_write;


GRANT  SELECT ON NEWR_REPOSB.PLAN_TRANSACTION_TREND TO WEALTH_CENTRAL WITH GRANT OPTION;

drop table NEWR_REPOSB.PLAN_PARTICIPANT_STATUS_TREND;
CREATE TABLE NEWR_REPOSB.PLAN_PARTICIPANT_STATUS_TREND 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL  
, SOURCE_CYCLE_DATE DATE 
, ACTIVE_CONTRIBUTING_COUNT NUMBER(38, 0) 
, ACTIVE_CONTRIBUTING_TOTAL_BAL NUMBER(14, 2) 
, ACTIVE_NOT_CONTRIBUTING_COUNT NUMBER(38, 0) 
, ACTIVE_NOT_CONTRIB_TOT_BAL NUMBER(14, 2)  
, ELIG_NOT_PART_NO_BAL_COUNT NUMBER(38, 0) 
, ELIG_NOT_PART_WITH_BAL_COUNT NUMBER(38, 0) 
, ELIG_NOT_PART_BAL_TOT_BAL NUMBER(14, 2) 
, SUSPENDED_NO_BAL_COUNT NUMBER(38, 0) 
, SUSPENDED_WITH_BAL_COUNT NUMBER(38, 0) 
, SUSPENDED_WITH_BAL_TOTAL_BAL NUMBER(14, 2)
, INELIGIBLE_WITH_BAL_COUNT NUMBER(38, 0) 
, INELIGIBLE_WITH_BAL_TOTAL_BAL NUMBER(14, 2)
, OMNI_STATUS_CODE_01_COUNT NUMBER(38, 0) 
, OMNI_STATUS_CODE_01_TOTAL_BAL NUMBER(14, 2) 
, OMNI_STATUS_CODE_05_COUNT NUMBER(38, 0) 
, OMNI_STATUS_CODE_05_TOTAL_BAL NUMBER(14, 2) 
, TERMINATED_NO_BAL_COUNT NUMBER(38, 0) 
, TERM_RECEIV_INSTALL_CNT NUMBER(38, 0) 
, TERM_RECEIV_INSTAL_TOT_BAL NUMBER(14, 2) 
, TERMINATED_WITH_BAL_COUNT NUMBER(38, 0) 
, TERMINATED_WITH_BAL_TOTAL_BAL NUMBER(14, 2)
, ENTITY_NAME VARCHAR2(80 BYTE) 
, PART_W_BAL_AVERAGE_BAL NUMBER(14, 2) 
, PARTICIPANTS_WITH_BAL_COUNT NUMBER(38, 0) 
, PARTICIPANTS_WITH_BAL_TOT_BAL NUMBER(14, 2) 
, CATCHUP_ELIGIBLE_COUNT NUMBER(38, 0) 
, CATCHUP_ELIGIBLE_TOTAL_BALANCE NUMBER(14, 2) 
, CATCHUP_PARTICIPATING_COUNT NUMBER(38, 0) 
, CATCHUP_PARTICIPATING_TOTAL_BALANCE NUMBER(14, 2)
, TRANSFORM_HASH_KEY NUMBER(38, 0) ,

CONSTRAINT PK_PLAN_PRTICIPNT_STATUS_TRND PRIMARY KEY 
(
  CLIENT_ID 
, PLAN_NUMBER 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.plan_participant_status_trend TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.plan_participant_status_trend TO role_newr_repos_write;


--plan_participant_status_trend_delta
drop table NEWR_REPOSB.PLAN_PARTICIPANT_STATUS_TREND_delta;
CREATE TABLE NEWR_REPOSB.PLAN_PARTICIPANT_STATUS_TREND_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, ACTIVE_CONTRIBUTING_COUNT NUMBER(38, 0) 
, ACTIVE_CONTRIBUTING_TOTAL_BAL NUMBER(14, 2) 
, ACTIVE_NOT_CONTRIBUTING_COUNT NUMBER(38, 0) 
, ACTIVE_NOT_CONTRIB_TOT_BAL NUMBER(14, 2)  
, ELIG_NOT_PART_NO_BAL_COUNT NUMBER(38, 0) 
, ELIG_NOT_PART_WITH_BAL_COUNT NUMBER(38, 0) 
, ELIG_NOT_PART_BAL_TOT_BAL NUMBER(14, 2) 
, SUSPENDED_NO_BAL_COUNT NUMBER(38, 0) 
, SUSPENDED_WITH_BAL_COUNT NUMBER(38, 0) 
, SUSPENDED_WITH_BAL_TOTAL_BAL NUMBER(14, 2)
, INELIGIBLE_WITH_BAL_COUNT NUMBER(38, 0) 
, INELIGIBLE_WITH_BAL_TOTAL_BAL NUMBER(14, 2)
, OMNI_STATUS_CODE_01_COUNT NUMBER(38, 0) 
, OMNI_STATUS_CODE_01_TOTAL_BAL NUMBER(14, 2) 
, OMNI_STATUS_CODE_05_COUNT NUMBER(38, 0) 
, OMNI_STATUS_CODE_05_TOTAL_BAL NUMBER(14, 2) 
, TERMINATED_NO_BAL_COUNT NUMBER(38, 0) 
, TERM_RECEIV_INSTALL_CNT NUMBER(38, 0) 
, TERM_RECEIV_INSTAL_TOT_BAL NUMBER(14, 2) 
, TERMINATED_WITH_BAL_COUNT NUMBER(38, 0) 
, TERMINATED_WITH_BAL_TOTAL_BAL NUMBER(14, 2)
, ENTITY_NAME VARCHAR2(80 BYTE) 
, PART_W_BAL_AVERAGE_BAL NUMBER(14, 2) 
, PARTICIPANTS_WITH_BAL_COUNT NUMBER(38, 0) 
, PARTICIPANTS_WITH_BAL_TOT_BAL NUMBER(14, 2) 
, CATCHUP_ELIGIBLE_COUNT NUMBER(38, 0) 
, CATCHUP_ELIGIBLE_TOTAL_BALANCE NUMBER(14, 2) 
, CATCHUP_PARTICIPATING_COUNT NUMBER(38, 0) 
, CATCHUP_PARTICIPATING_TOTAL_BALANCE NUMBER(14, 2)
, TRANSFORM_HASH_KEY NUMBER(38, 0)  
, DELTA_OP_IND VARCHAR(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.plan_participant_status_trend_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.plan_participant_status_trend_delta TO role_newr_repos_write;


GRANT  SELECT ON NEWR_REPOSB.plan_participant_status_trend TO WEALTH_CENTRAL WITH GRANT OPTION;
drop table NEWR_REPOSB.PARTICIPANT_INSTALLMENTS;
CREATE TABLE NEWR_REPOSB.PARTICIPANT_INSTALLMENTS 
(

  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, NEXT_PAY_DATE DATE 
, START_DATE DATE 
, END_DATE DATE NOT NULL 
, CREATE_DATE DATE NOT NULL 
, INSTALLMENT_FREQUENCY VARCHAR2(1 BYTE) 
, INSTALLMENT_PAYMENT_AMOUNT NUMBER(11, 4) 
, INSTALLMENT_HOLD_DATE DATE 
, INSTALLMENT_SEQUENCE NUMBER(38, 0) 
, NUM_OF_PAYMENTS_PROCED_TO_DATE NUMBER(38, 0) 
, NUMBER_INSTALLMENT_PAYMENTS NUMBER(38, 0) 
, RECALCULATION_OPTION VARCHAR2(1 BYTE) 
, VTD_FILE_ID VARCHAR2(22 BYTE) 
, VTD_TRANSACTION_SEQUENCE NUMBER(38, 0)  
, VTD_FUND_ID VARCHAR2(3 BYTE) 
, TERMINATION_PAYMENT_METHOD VARCHAR2(1 BYTE) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, TRANSFORM_HASH_KEY NUMBER(38, 0) ,

CONSTRAINT PK_PARTICIPANT_INSTALLMENTS PRIMARY KEY 
(
  PARTICIPANT_ID 
, CLIENT_ID 
, PLAN_NUMBER 
, CREATE_DATE 
, END_DATE 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.participant_installments TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_installments TO role_newr_repos_write;



--PARTICIPANT_INSTALLMENTS_DELTA
drop table NEWR_REPOSB.PARTICIPANT_INSTALLMENTS_DELTA; 
CREATE TABLE NEWR_REPOSB.PARTICIPANT_INSTALLMENTS_DELTA
(

  CLIENT_ID VARCHAR2(10 BYTE)
, PLAN_NUMBER VARCHAR2(25 BYTE)
, PARTICIPANT_ID VARCHAR2(25 BYTE)
, NEXT_PAY_DATE DATE 
, START_DATE DATE 
, END_DATE DATE
, CREATE_DATE DATE 
, INSTALLMENT_FREQUENCY VARCHAR2(1 BYTE) 
, INSTALLMENT_PAYMENT_AMOUNT NUMBER(11, 4) 
, INSTALLMENT_HOLD_DATE DATE 
, INSTALLMENT_SEQUENCE NUMBER(38, 0) 
, NUM_OF_PAYMENTS_PROCED_TO_DATE NUMBER(38, 0) 
, NUMBER_INSTALLMENT_PAYMENTS NUMBER(38, 0) 
, RECALCULATION_OPTION VARCHAR2(1 BYTE) 
, VTD_FILE_ID VARCHAR2(22 BYTE) 
, VTD_TRANSACTION_SEQUENCE NUMBER(38, 0)  
, VTD_FUND_ID VARCHAR2(3 BYTE) 
, TERMINATION_PAYMENT_METHOD VARCHAR2(1 BYTE) 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, TRANSFORM_HASH_KEY NUMBER(38, 0) 
, DELTA_OP_IND VARCHAR(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;


GRANT SELECT ON NEWR_REPOSB.participant_installments_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_installments_delta TO role_newr_repos_write;



GRANT  SELECT ON NEWR_REPOSB.PARTICIPANT_INSTALLMENTS TO WEALTH_CENTRAL WITH GRANT OPTION;



drop table NEWR_REPOSB.PARTICIPANT_MIN_DISTRIBUTIONS;
CREATE TABLE NEWR_REPOSB.PARTICIPANT_MIN_DISTRIBUTIONS 
(
  CLIENT_ID VARCHAR2(10 BYTE) NOT NULL 
, PLAN_NUMBER VARCHAR2(25 BYTE) NOT NULL 
, PARTICIPANT_ID VARCHAR2(25 BYTE) NOT NULL 
, RMD_BEGIN_DATE DATE 
, CURRENT_LIFE_EXPECTANCY NUMBER(5, 1) NOT NULL 
, RMD_AMOUNT NUMBER(15, 2)
, RMD_DUE_DATE DATE DEFAULT sysdate NOT NULL 
, ORIGINAL_LIFE_EXPECTANCY NUMBER(4, 1) 
, LIFE_EXPECTANCY_CALC_METHOD VARCHAR2(1 BYTE)
, NON_APPL_CURR_YEAR_DISTRIB NUMBER(15, 2) 
, RMD_OVERRIDE_AMOUNT NUMBER(15, 2) 
, RMD_AMOUNT_YTD NUMBER(15, 2) 
, RMD_SHORTFALL_AMOUNT NUMBER(15, 2)  
, BENEFICIARY_SSN VARCHAR2(17 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, SOURCE_GROUP VARCHAR2(1 BYTE)  
, TRANSFORM_HASH_KEY NUMBER(38, 0) ,

CONSTRAINT PK_PRTICPNT_MIN_REQ_DISTRIBS PRIMARY KEY 
(
  CLIENT_ID 
, PARTICIPANT_ID 
, PLAN_NUMBER 
, RMD_DUE_DATE 
, CURRENT_LIFE_EXPECTANCY 
)
USING INDEX
TABLESPACE NEWR_REPOS_INDEX
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.participant_min_distributions TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_min_distributions TO role_newr_repos_write;


--participant_min_distributions_delta
drop table NEWR_REPOSB.PARTICIPANT_MIN_DISTRIBUTIONS_DELTA;
CREATE TABLE NEWR_REPOSB.PARTICIPANT_MIN_DISTRIBUTIONS_DELTA
(
  CLIENT_ID VARCHAR2(10 BYTE) 
, PLAN_NUMBER VARCHAR2(25 BYTE)  
, PARTICIPANT_ID VARCHAR2(25 BYTE)
, RMD_BEGIN_DATE DATE 
, CURRENT_LIFE_EXPECTANCY NUMBER(5, 1)
, RMD_AMOUNT NUMBER(15, 2)
, RMD_DUE_DATE DATE DEFAULT sysdate 
, ORIGINAL_LIFE_EXPECTANCY NUMBER(4, 1) 
, LIFE_EXPECTANCY_CALC_METHOD VARCHAR2(1 BYTE)
, NON_APPL_CURR_YEAR_DISTRIB NUMBER(15, 2) 
, RMD_OVERRIDE_AMOUNT NUMBER(15, 2) 
, RMD_AMOUNT_YTD NUMBER(15, 2) 
, RMD_SHORTFALL_AMOUNT NUMBER(15, 2)  
, BENEFICIARY_SSN VARCHAR2(17 BYTE) 
, SOURCE_CYCLE_DATE DATE 
, SOURCE_PROCESSING_DATE DATE 
, SOURCE_SYSTEM VARCHAR2(80 BYTE)
, SOURCE_GROUP VARCHAR2(1 BYTE)  
, TRANSFORM_HASH_KEY NUMBER(38, 0) 
, DELTA_OP_IND VARCHAR(1 BYTE)
)
TABLESPACE NEWR_REPOS_DATA
;

GRANT SELECT ON NEWR_REPOSB.participant_min_distributions_delta TO role_newr_repos_read;
GRANT INSERT, UPDATE, DELETE ON NEWR_REPOSB.participant_min_distributions_delta TO role_newr_repos_write;


GRANT  SELECT ON NEWR_REPOSB.participant_min_distributions TO WEALTH_CENTRAL WITH GRANT OPTION;



drop table NEWR_REPOSB.PARTICIPANT_AUTO_ENROLLMENTS;
drop table NEWR_REPOSB.PARTICIPANT_AUTO_ENROLLMENTS_delta;